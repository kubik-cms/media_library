(function(pn){typeof define=="function"&&define.amd?define(pn):pn()})(function(){"use strict";function pn(f){return f.replace(/(?:[_-])([a-z0-9])/g,(s,i)=>i.toUpperCase())}function or(f){return f.charAt(0).toUpperCase()+f.slice(1)}function Fl(f){return f.replace(/([A-Z])/g,(s,i)=>`-${i.toLowerCase()}`)}function zi(f,s){const i=Pi(f);return Array.from(i.reduce((o,c)=>(Ll(c,s).forEach(y=>o.add(y)),o),new Set))}function bl(f,s){return Pi(f).reduce((o,c)=>(o.push(...Sl(c,s)),o),[])}function Pi(f){const s=[];for(;f;)s.push(f),f=Object.getPrototypeOf(f);return s.reverse()}function Ll(f,s){const i=f[s];return Array.isArray(i)?i:[]}function Sl(f,s){const i=f[s];return i?Object.keys(i).map(o=>[o,i[o]]):[]}(()=>{function f(i){function o(){return Reflect.construct(i,arguments,new.target)}return o.prototype=Object.create(i.prototype,{constructor:{value:o}}),Reflect.setPrototypeOf(o,i),o}function s(){const o=f(function(){this.a.call(this)});return o.prototype.a=function(){},new o}try{return s(),f}catch{return o=>class extends o{}}})();function Il(f){return zi(f,"classes").reduce((i,o)=>Object.assign(i,Rl(o)),{})}function Rl(f){return{[`${f}Class`]:{get(){const{classes:s}=this;if(s.has(f))return s.get(f);{const i=s.getAttributeName(f);throw new Error(`Missing attribute "${i}"`)}}},[`${f}Classes`]:{get(){return this.classes.getAll(f)}},[`has${or(f)}Class`]:{get(){return this.classes.has(f)}}}}function Ml(f){return zi(f,"targets").reduce((i,o)=>Object.assign(i,Ol(o)),{})}function Ol(f){return{[`${f}Target`]:{get(){const s=this.targets.find(f);if(s)return s;throw new Error(`Missing target element "${f}" for "${this.identifier}" controller`)}},[`${f}Targets`]:{get(){return this.targets.findAll(f)}},[`has${or(f)}Target`]:{get(){return this.targets.has(f)}}}}function Dl(f){const s=bl(f,"values"),i={valueDescriptorMap:{get(){return s.reduce((o,c)=>{const y=Bi(c,this.identifier),T=this.data.getAttributeNameForKey(y.key);return Object.assign(o,{[T]:y})},{})}}};return s.reduce((o,c)=>Object.assign(o,Ul(c)),i)}function Ul(f,s){const i=Bi(f,s),{key:o,name:c,reader:y,writer:T}=i;return{[c]:{get(){const C=this.data.get(o);return C!==null?y(C):i.defaultValue},set(C){C===void 0?this.data.delete(o):this.data.set(o,T(C))}},[`has${or(c)}`]:{get(){return this.data.has(o)||i.hasCustomDefaultValue}}}}function Bi([f,s],i){return Wl({controller:i,token:f,typeDefinition:s})}function fr(f){switch(f){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function Ht(f){switch(typeof f){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(f))return"array";if(Object.prototype.toString.call(f)==="[object Object]")return"object"}function zl(f){const s=fr(f.typeObject.type);if(!s)return;const i=Ht(f.typeObject.default);if(s!==i){const o=f.controller?`${f.controller}.${f.token}`:f.token;throw new Error(`The specified default value for the Stimulus Value "${o}" must match the defined type "${s}". The provided default value of "${f.typeObject.default}" is of type "${i}".`)}return s}function Pl(f){const s=zl({controller:f.controller,token:f.token,typeObject:f.typeDefinition}),i=Ht(f.typeDefinition),o=fr(f.typeDefinition),c=s||i||o;if(c)return c;const y=f.controller?`${f.controller}.${f.typeDefinition}`:f.token;throw new Error(`Unknown value type "${y}" for "${f.token}" value`)}function Bl(f){const s=fr(f);if(s)return Nl[s];const i=f.default;return i!==void 0?i:f}function Wl(f){const s=`${Fl(f.token)}-value`,i=Pl(f);return{type:i,key:s,name:pn(s),get defaultValue(){return Bl(f.typeDefinition)},get hasCustomDefaultValue(){return Ht(f.typeDefinition)!==void 0},reader:kl[i],writer:Wi[i]||Wi.default}}const Nl={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},kl={array(f){const s=JSON.parse(f);if(!Array.isArray(s))throw new TypeError(`expected value of type "array" but instead got value "${f}" of type "${Ht(s)}"`);return s},boolean(f){return!(f=="0"||String(f).toLowerCase()=="false")},number(f){return Number(f)},object(f){const s=JSON.parse(f);if(s===null||typeof s!="object"||Array.isArray(s))throw new TypeError(`expected value of type "object" but instead got value "${f}" of type "${Ht(s)}"`);return s},string(f){return f}},Wi={default:Hl,array:Ni,object:Ni};function Ni(f){return JSON.stringify(f)}function Hl(f){return`${f}`}class Et{constructor(s){this.context=s}static get shouldLoad(){return!0}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(s,{target:i=this.element,detail:o={},prefix:c=this.identifier,bubbles:y=!0,cancelable:T=!0}={}){const C=c?`${c}:${s}`:s,b=new CustomEvent(C,{detail:o,bubbles:y,cancelable:T});return i.dispatchEvent(b),b}}Et.blessings=[Il,Ml,Dl],Et.targets=[],Et.values={};var qt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Te={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(f,s){(function(){var i,o="4.17.21",c=200,y="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",T="Expected a function",C="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",S=500,B="__lodash_placeholder__",H=1,J=2,Y=4,tt=1,gn=2,Ee=1,ct=2,Qi=4,Be=8,At=16,We=32,Ct=64,Ge=128,Gt=256,pr=512,$l=30,jl="...",ea=800,ta=16,Vi=1,na=2,ra=3,dt=1/0,nt=9007199254740991,ia=17976931348623157e292,mn=0/0,Ne=4294967295,sa=Ne-1,ua=Ne>>>1,la=[["ary",Ge],["bind",Ee],["bindKey",ct],["curry",Be],["curryRight",At],["flip",pr],["partial",We],["partialRight",Ct],["rearg",Gt]],Ft="[object Arguments]",vn="[object Array]",aa="[object AsyncFunction]",Kt="[object Boolean]",Yt="[object Date]",oa="[object DOMException]",_n="[object Error]",wn="[object Function]",Xi="[object GeneratorFunction]",Me="[object Map]",Qt="[object Number]",fa="[object Null]",Ke="[object Object]",Zi="[object Promise]",ha="[object Proxy]",Vt="[object RegExp]",Oe="[object Set]",Xt="[object String]",yn="[object Symbol]",ca="[object Undefined]",Zt="[object WeakMap]",da="[object WeakSet]",Jt="[object ArrayBuffer]",bt="[object DataView]",gr="[object Float32Array]",mr="[object Float64Array]",vr="[object Int8Array]",_r="[object Int16Array]",wr="[object Int32Array]",yr="[object Uint8Array]",xr="[object Uint8ClampedArray]",Tr="[object Uint16Array]",Er="[object Uint32Array]",pa=/\b__p \+= '';/g,ga=/\b(__p \+=) '' \+/g,ma=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ji=/&(?:amp|lt|gt|quot|#39);/g,$i=/[&<>"']/g,va=RegExp(Ji.source),_a=RegExp($i.source),wa=/<%-([\s\S]+?)%>/g,ya=/<%([\s\S]+?)%>/g,ji=/<%=([\s\S]+?)%>/g,xa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ta=/^\w*$/,Ea=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ar=/[\\^$.*+?()[\]{}|]/g,Aa=RegExp(Ar.source),Cr=/^\s+/,Ca=/\s/,Fa=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ba=/\{\n\/\* \[wrapped with (.+)\] \*/,La=/,? & /,Sa=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ia=/[()=,{}\[\]\/\s]/,Ra=/\\(\\)?/g,Ma=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,es=/\w*$/,Oa=/^[-+]0x[0-9a-f]+$/i,Da=/^0b[01]+$/i,Ua=/^\[object .+?Constructor\]$/,za=/^0o[0-7]+$/i,Pa=/^(?:0|[1-9]\d*)$/,Ba=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xn=/($^)/,Wa=/['\n\r\u2028\u2029\\]/g,Tn="\\ud800-\\udfff",Na="\\u0300-\\u036f",ka="\\ufe20-\\ufe2f",Ha="\\u20d0-\\u20ff",ts=Na+ka+Ha,ns="\\u2700-\\u27bf",rs="a-z\\xdf-\\xf6\\xf8-\\xff",qa="\\xac\\xb1\\xd7\\xf7",Ga="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ka="\\u2000-\\u206f",Ya=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",is="A-Z\\xc0-\\xd6\\xd8-\\xde",ss="\\ufe0e\\ufe0f",us=qa+Ga+Ka+Ya,Fr="['\u2019]",Qa="["+Tn+"]",ls="["+us+"]",En="["+ts+"]",as="\\d+",Va="["+ns+"]",os="["+rs+"]",fs="[^"+Tn+us+as+ns+rs+is+"]",br="\\ud83c[\\udffb-\\udfff]",Xa="(?:"+En+"|"+br+")",hs="[^"+Tn+"]",Lr="(?:\\ud83c[\\udde6-\\uddff]){2}",Sr="[\\ud800-\\udbff][\\udc00-\\udfff]",Lt="["+is+"]",cs="\\u200d",ds="(?:"+os+"|"+fs+")",Za="(?:"+Lt+"|"+fs+")",ps="(?:"+Fr+"(?:d|ll|m|re|s|t|ve))?",gs="(?:"+Fr+"(?:D|LL|M|RE|S|T|VE))?",ms=Xa+"?",vs="["+ss+"]?",Ja="(?:"+cs+"(?:"+[hs,Lr,Sr].join("|")+")"+vs+ms+")*",$a="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ja="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",_s=vs+ms+Ja,eo="(?:"+[Va,Lr,Sr].join("|")+")"+_s,to="(?:"+[hs+En+"?",En,Lr,Sr,Qa].join("|")+")",no=RegExp(Fr,"g"),ro=RegExp(En,"g"),Ir=RegExp(br+"(?="+br+")|"+to+_s,"g"),io=RegExp([Lt+"?"+os+"+"+ps+"(?="+[ls,Lt,"$"].join("|")+")",Za+"+"+gs+"(?="+[ls,Lt+ds,"$"].join("|")+")",Lt+"?"+ds+"+"+ps,Lt+"+"+gs,ja,$a,as,eo].join("|"),"g"),so=RegExp("["+cs+Tn+ts+ss+"]"),uo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,lo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ao=-1,X={};X[gr]=X[mr]=X[vr]=X[_r]=X[wr]=X[yr]=X[xr]=X[Tr]=X[Er]=!0,X[Ft]=X[vn]=X[Jt]=X[Kt]=X[bt]=X[Yt]=X[_n]=X[wn]=X[Me]=X[Qt]=X[Ke]=X[Vt]=X[Oe]=X[Xt]=X[Zt]=!1;var V={};V[Ft]=V[vn]=V[Jt]=V[bt]=V[Kt]=V[Yt]=V[gr]=V[mr]=V[vr]=V[_r]=V[wr]=V[Me]=V[Qt]=V[Ke]=V[Vt]=V[Oe]=V[Xt]=V[yn]=V[yr]=V[xr]=V[Tr]=V[Er]=!0,V[_n]=V[wn]=V[Zt]=!1;var oo={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},fo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ho={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},co={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},po=parseFloat,go=parseInt,ws=typeof qt=="object"&&qt&&qt.Object===Object&&qt,mo=typeof self=="object"&&self&&self.Object===Object&&self,se=ws||mo||Function("return this")(),Rr=s&&!s.nodeType&&s,pt=Rr&&!0&&f&&!f.nodeType&&f,ys=pt&&pt.exports===Rr,Mr=ys&&ws.process,Ae=function(){try{var p=pt&&pt.require&&pt.require("util").types;return p||Mr&&Mr.binding&&Mr.binding("util")}catch{}}(),xs=Ae&&Ae.isArrayBuffer,Ts=Ae&&Ae.isDate,Es=Ae&&Ae.isMap,As=Ae&&Ae.isRegExp,Cs=Ae&&Ae.isSet,Fs=Ae&&Ae.isTypedArray;function me(p,v,m){switch(m.length){case 0:return p.call(v);case 1:return p.call(v,m[0]);case 2:return p.call(v,m[0],m[1]);case 3:return p.call(v,m[0],m[1],m[2])}return p.apply(v,m)}function vo(p,v,m,F){for(var O=-1,q=p==null?0:p.length;++O<q;){var ne=p[O];v(F,ne,m(ne),p)}return F}function Ce(p,v){for(var m=-1,F=p==null?0:p.length;++m<F&&v(p[m],m,p)!==!1;);return p}function _o(p,v){for(var m=p==null?0:p.length;m--&&v(p[m],m,p)!==!1;);return p}function bs(p,v){for(var m=-1,F=p==null?0:p.length;++m<F;)if(!v(p[m],m,p))return!1;return!0}function rt(p,v){for(var m=-1,F=p==null?0:p.length,O=0,q=[];++m<F;){var ne=p[m];v(ne,m,p)&&(q[O++]=ne)}return q}function An(p,v){var m=p==null?0:p.length;return!!m&&St(p,v,0)>-1}function Or(p,v,m){for(var F=-1,O=p==null?0:p.length;++F<O;)if(m(v,p[F]))return!0;return!1}function Z(p,v){for(var m=-1,F=p==null?0:p.length,O=Array(F);++m<F;)O[m]=v(p[m],m,p);return O}function it(p,v){for(var m=-1,F=v.length,O=p.length;++m<F;)p[O+m]=v[m];return p}function Dr(p,v,m,F){var O=-1,q=p==null?0:p.length;for(F&&q&&(m=p[++O]);++O<q;)m=v(m,p[O],O,p);return m}function wo(p,v,m,F){var O=p==null?0:p.length;for(F&&O&&(m=p[--O]);O--;)m=v(m,p[O],O,p);return m}function Ur(p,v){for(var m=-1,F=p==null?0:p.length;++m<F;)if(v(p[m],m,p))return!0;return!1}var yo=zr("length");function xo(p){return p.split("")}function To(p){return p.match(Sa)||[]}function Ls(p,v,m){var F;return m(p,function(O,q,ne){if(v(O,q,ne))return F=q,!1}),F}function Cn(p,v,m,F){for(var O=p.length,q=m+(F?1:-1);F?q--:++q<O;)if(v(p[q],q,p))return q;return-1}function St(p,v,m){return v===v?Do(p,v,m):Cn(p,Ss,m)}function Eo(p,v,m,F){for(var O=m-1,q=p.length;++O<q;)if(F(p[O],v))return O;return-1}function Ss(p){return p!==p}function Is(p,v){var m=p==null?0:p.length;return m?Br(p,v)/m:mn}function zr(p){return function(v){return v==null?i:v[p]}}function Pr(p){return function(v){return p==null?i:p[v]}}function Rs(p,v,m,F,O){return O(p,function(q,ne,Q){m=F?(F=!1,q):v(m,q,ne,Q)}),m}function Ao(p,v){var m=p.length;for(p.sort(v);m--;)p[m]=p[m].value;return p}function Br(p,v){for(var m,F=-1,O=p.length;++F<O;){var q=v(p[F]);q!==i&&(m=m===i?q:m+q)}return m}function Wr(p,v){for(var m=-1,F=Array(p);++m<p;)F[m]=v(m);return F}function Co(p,v){return Z(v,function(m){return[m,p[m]]})}function Ms(p){return p&&p.slice(0,zs(p)+1).replace(Cr,"")}function ve(p){return function(v){return p(v)}}function Nr(p,v){return Z(v,function(m){return p[m]})}function $t(p,v){return p.has(v)}function Os(p,v){for(var m=-1,F=p.length;++m<F&&St(v,p[m],0)>-1;);return m}function Ds(p,v){for(var m=p.length;m--&&St(v,p[m],0)>-1;);return m}function Fo(p,v){for(var m=p.length,F=0;m--;)p[m]===v&&++F;return F}var bo=Pr(oo),Lo=Pr(fo);function So(p){return"\\"+co[p]}function Io(p,v){return p==null?i:p[v]}function It(p){return so.test(p)}function Ro(p){return uo.test(p)}function Mo(p){for(var v,m=[];!(v=p.next()).done;)m.push(v.value);return m}function kr(p){var v=-1,m=Array(p.size);return p.forEach(function(F,O){m[++v]=[O,F]}),m}function Us(p,v){return function(m){return p(v(m))}}function st(p,v){for(var m=-1,F=p.length,O=0,q=[];++m<F;){var ne=p[m];(ne===v||ne===B)&&(p[m]=B,q[O++]=m)}return q}function Fn(p){var v=-1,m=Array(p.size);return p.forEach(function(F){m[++v]=F}),m}function Oo(p){var v=-1,m=Array(p.size);return p.forEach(function(F){m[++v]=[F,F]}),m}function Do(p,v,m){for(var F=m-1,O=p.length;++F<O;)if(p[F]===v)return F;return-1}function Uo(p,v,m){for(var F=m+1;F--;)if(p[F]===v)return F;return F}function Rt(p){return It(p)?Po(p):yo(p)}function De(p){return It(p)?Bo(p):xo(p)}function zs(p){for(var v=p.length;v--&&Ca.test(p.charAt(v)););return v}var zo=Pr(ho);function Po(p){for(var v=Ir.lastIndex=0;Ir.test(p);)++v;return v}function Bo(p){return p.match(Ir)||[]}function Wo(p){return p.match(io)||[]}var No=function p(v){v=v==null?se:Mt.defaults(se.Object(),v,Mt.pick(se,lo));var m=v.Array,F=v.Date,O=v.Error,q=v.Function,ne=v.Math,Q=v.Object,Hr=v.RegExp,ko=v.String,Fe=v.TypeError,bn=m.prototype,Ho=q.prototype,Ot=Q.prototype,Ln=v["__core-js_shared__"],Sn=Ho.toString,K=Ot.hasOwnProperty,qo=0,Ps=function(){var e=/[^.]+$/.exec(Ln&&Ln.keys&&Ln.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),In=Ot.toString,Go=Sn.call(Q),Ko=se._,Yo=Hr("^"+Sn.call(K).replace(Ar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rn=ys?v.Buffer:i,ut=v.Symbol,Mn=v.Uint8Array,Bs=Rn?Rn.allocUnsafe:i,On=Us(Q.getPrototypeOf,Q),Ws=Q.create,Ns=Ot.propertyIsEnumerable,Dn=bn.splice,ks=ut?ut.isConcatSpreadable:i,jt=ut?ut.iterator:i,gt=ut?ut.toStringTag:i,Un=function(){try{var e=yt(Q,"defineProperty");return e({},"",{}),e}catch{}}(),Qo=v.clearTimeout!==se.clearTimeout&&v.clearTimeout,Vo=F&&F.now!==se.Date.now&&F.now,Xo=v.setTimeout!==se.setTimeout&&v.setTimeout,zn=ne.ceil,Pn=ne.floor,qr=Q.getOwnPropertySymbols,Zo=Rn?Rn.isBuffer:i,Hs=v.isFinite,Jo=bn.join,$o=Us(Q.keys,Q),re=ne.max,le=ne.min,jo=F.now,ef=v.parseInt,qs=ne.random,tf=bn.reverse,Gr=yt(v,"DataView"),en=yt(v,"Map"),Kr=yt(v,"Promise"),Dt=yt(v,"Set"),tn=yt(v,"WeakMap"),nn=yt(Q,"create"),Bn=tn&&new tn,Ut={},nf=xt(Gr),rf=xt(en),sf=xt(Kr),uf=xt(Dt),lf=xt(tn),Wn=ut?ut.prototype:i,rn=Wn?Wn.valueOf:i,Gs=Wn?Wn.toString:i;function l(e){if(j(e)&&!D(e)&&!(e instanceof N)){if(e instanceof be)return e;if(K.call(e,"__wrapped__"))return Ku(e)}return new be(e)}var zt=function(){function e(){}return function(t){if(!$(t))return{};if(Ws)return Ws(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Nn(){}function be(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}l.templateSettings={escape:wa,evaluate:ya,interpolate:ji,variable:"",imports:{_:l}},l.prototype=Nn.prototype,l.prototype.constructor=l,be.prototype=zt(Nn.prototype),be.prototype.constructor=be;function N(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ne,this.__views__=[]}function af(){var e=new N(this.__wrapped__);return e.__actions__=ce(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ce(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ce(this.__views__),e}function of(){if(this.__filtered__){var e=new N(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function ff(){var e=this.__wrapped__.value(),t=this.__dir__,n=D(e),r=t<0,u=n?e.length:0,a=Th(0,u,this.__views__),h=a.start,d=a.end,g=d-h,_=r?d:h-1,w=this.__iteratees__,x=w.length,A=0,L=le(g,this.__takeCount__);if(!n||!r&&u==g&&L==g)return pu(e,this.__actions__);var R=[];e:for(;g--&&A<L;){_+=t;for(var z=-1,M=e[_];++z<x;){var W=w[z],k=W.iteratee,ye=W.type,he=k(M);if(ye==na)M=he;else if(!he){if(ye==Vi)continue e;break e}}R[A++]=M}return R}N.prototype=zt(Nn.prototype),N.prototype.constructor=N;function mt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function hf(){this.__data__=nn?nn(null):{},this.size=0}function cf(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function df(e){var t=this.__data__;if(nn){var n=t[e];return n===b?i:n}return K.call(t,e)?t[e]:i}function pf(e){var t=this.__data__;return nn?t[e]!==i:K.call(t,e)}function gf(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nn&&t===i?b:t,this}mt.prototype.clear=hf,mt.prototype.delete=cf,mt.prototype.get=df,mt.prototype.has=pf,mt.prototype.set=gf;function Ye(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function mf(){this.__data__=[],this.size=0}function vf(e){var t=this.__data__,n=kn(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Dn.call(t,n,1),--this.size,!0}function _f(e){var t=this.__data__,n=kn(t,e);return n<0?i:t[n][1]}function wf(e){return kn(this.__data__,e)>-1}function yf(e,t){var n=this.__data__,r=kn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}Ye.prototype.clear=mf,Ye.prototype.delete=vf,Ye.prototype.get=_f,Ye.prototype.has=wf,Ye.prototype.set=yf;function Qe(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xf(){this.size=0,this.__data__={hash:new mt,map:new(en||Ye),string:new mt}}function Tf(e){var t=jn(this,e).delete(e);return this.size-=t?1:0,t}function Ef(e){return jn(this,e).get(e)}function Af(e){return jn(this,e).has(e)}function Cf(e,t){var n=jn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}Qe.prototype.clear=xf,Qe.prototype.delete=Tf,Qe.prototype.get=Ef,Qe.prototype.has=Af,Qe.prototype.set=Cf;function vt(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Qe;++t<n;)this.add(e[t])}function Ff(e){return this.__data__.set(e,b),this}function bf(e){return this.__data__.has(e)}vt.prototype.add=vt.prototype.push=Ff,vt.prototype.has=bf;function Ue(e){var t=this.__data__=new Ye(e);this.size=t.size}function Lf(){this.__data__=new Ye,this.size=0}function Sf(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function If(e){return this.__data__.get(e)}function Rf(e){return this.__data__.has(e)}function Mf(e,t){var n=this.__data__;if(n instanceof Ye){var r=n.__data__;if(!en||r.length<c-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Qe(r)}return n.set(e,t),this.size=n.size,this}Ue.prototype.clear=Lf,Ue.prototype.delete=Sf,Ue.prototype.get=If,Ue.prototype.has=Rf,Ue.prototype.set=Mf;function Ks(e,t){var n=D(e),r=!n&&Tt(e),u=!n&&!r&&ht(e),a=!n&&!r&&!u&&Nt(e),h=n||r||u||a,d=h?Wr(e.length,ko):[],g=d.length;for(var _ in e)(t||K.call(e,_))&&!(h&&(_=="length"||u&&(_=="offset"||_=="parent")||a&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||Je(_,g)))&&d.push(_);return d}function Ys(e){var t=e.length;return t?e[ni(0,t-1)]:i}function Of(e,t){return er(ce(e),_t(t,0,e.length))}function Df(e){return er(ce(e))}function Yr(e,t,n){(n!==i&&!ze(e[t],n)||n===i&&!(t in e))&&Ve(e,t,n)}function sn(e,t,n){var r=e[t];(!(K.call(e,t)&&ze(r,n))||n===i&&!(t in e))&&Ve(e,t,n)}function kn(e,t){for(var n=e.length;n--;)if(ze(e[n][0],t))return n;return-1}function Uf(e,t,n,r){return lt(e,function(u,a,h){t(r,u,n(u),h)}),r}function Qs(e,t){return e&&He(t,ie(t),e)}function zf(e,t){return e&&He(t,pe(t),e)}function Ve(e,t,n){t=="__proto__"&&Un?Un(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Qr(e,t){for(var n=-1,r=t.length,u=m(r),a=e==null;++n<r;)u[n]=a?i:bi(e,t[n]);return u}function _t(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function Le(e,t,n,r,u,a){var h,d=t&H,g=t&J,_=t&Y;if(n&&(h=u?n(e,r,u,a):n(e)),h!==i)return h;if(!$(e))return e;var w=D(e);if(w){if(h=Ah(e),!d)return ce(e,h)}else{var x=ae(e),A=x==wn||x==Xi;if(ht(e))return vu(e,d);if(x==Ke||x==Ft||A&&!u){if(h=g||A?{}:zu(e),!d)return g?dh(e,zf(h,e)):ch(e,Qs(h,e))}else{if(!V[x])return u?e:{};h=Ch(e,x,d)}}a||(a=new Ue);var L=a.get(e);if(L)return L;a.set(e,h),hl(e)?e.forEach(function(M){h.add(Le(M,t,n,M,e,a))}):ol(e)&&e.forEach(function(M,W){h.set(W,Le(M,t,n,W,e,a))});var R=_?g?di:ci:g?pe:ie,z=w?i:R(e);return Ce(z||e,function(M,W){z&&(W=M,M=e[W]),sn(h,W,Le(M,t,n,W,e,a))}),h}function Pf(e){var t=ie(e);return function(n){return Vs(n,e,t)}}function Vs(e,t,n){var r=n.length;if(e==null)return!r;for(e=Q(e);r--;){var u=n[r],a=t[u],h=e[u];if(h===i&&!(u in e)||!a(h))return!1}return!0}function Xs(e,t,n){if(typeof e!="function")throw new Fe(T);return cn(function(){e.apply(i,n)},t)}function un(e,t,n,r){var u=-1,a=An,h=!0,d=e.length,g=[],_=t.length;if(!d)return g;n&&(t=Z(t,ve(n))),r?(a=Or,h=!1):t.length>=c&&(a=$t,h=!1,t=new vt(t));e:for(;++u<d;){var w=e[u],x=n==null?w:n(w);if(w=r||w!==0?w:0,h&&x===x){for(var A=_;A--;)if(t[A]===x)continue e;g.push(w)}else a(t,x,r)||g.push(w)}return g}var lt=Tu(ke),Zs=Tu(Xr,!0);function Bf(e,t){var n=!0;return lt(e,function(r,u,a){return n=!!t(r,u,a),n}),n}function Hn(e,t,n){for(var r=-1,u=e.length;++r<u;){var a=e[r],h=t(a);if(h!=null&&(d===i?h===h&&!we(h):n(h,d)))var d=h,g=a}return g}function Wf(e,t,n,r){var u=e.length;for(n=U(n),n<0&&(n=-n>u?0:u+n),r=r===i||r>u?u:U(r),r<0&&(r+=u),r=n>r?0:dl(r);n<r;)e[n++]=t;return e}function Js(e,t){var n=[];return lt(e,function(r,u,a){t(r,u,a)&&n.push(r)}),n}function ue(e,t,n,r,u){var a=-1,h=e.length;for(n||(n=bh),u||(u=[]);++a<h;){var d=e[a];t>0&&n(d)?t>1?ue(d,t-1,n,r,u):it(u,d):r||(u[u.length]=d)}return u}var Vr=Eu(),$s=Eu(!0);function ke(e,t){return e&&Vr(e,t,ie)}function Xr(e,t){return e&&$s(e,t,ie)}function qn(e,t){return rt(t,function(n){return $e(e[n])})}function wt(e,t){t=ot(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[qe(t[n++])];return n&&n==r?e:i}function js(e,t,n){var r=t(e);return D(e)?r:it(r,n(e))}function oe(e){return e==null?e===i?ca:fa:gt&&gt in Q(e)?xh(e):Dh(e)}function Zr(e,t){return e>t}function Nf(e,t){return e!=null&&K.call(e,t)}function kf(e,t){return e!=null&&t in Q(e)}function Hf(e,t,n){return e>=le(t,n)&&e<re(t,n)}function Jr(e,t,n){for(var r=n?Or:An,u=e[0].length,a=e.length,h=a,d=m(a),g=1/0,_=[];h--;){var w=e[h];h&&t&&(w=Z(w,ve(t))),g=le(w.length,g),d[h]=!n&&(t||u>=120&&w.length>=120)?new vt(h&&w):i}w=e[0];var x=-1,A=d[0];e:for(;++x<u&&_.length<g;){var L=w[x],R=t?t(L):L;if(L=n||L!==0?L:0,!(A?$t(A,R):r(_,R,n))){for(h=a;--h;){var z=d[h];if(!(z?$t(z,R):r(e[h],R,n)))continue e}A&&A.push(R),_.push(L)}}return _}function qf(e,t,n,r){return ke(e,function(u,a,h){t(r,n(u),a,h)}),r}function ln(e,t,n){t=ot(t,e),e=Nu(e,t);var r=e==null?e:e[qe(Ie(t))];return r==null?i:me(r,e,n)}function eu(e){return j(e)&&oe(e)==Ft}function Gf(e){return j(e)&&oe(e)==Jt}function Kf(e){return j(e)&&oe(e)==Yt}function an(e,t,n,r,u){return e===t?!0:e==null||t==null||!j(e)&&!j(t)?e!==e&&t!==t:Yf(e,t,n,r,an,u)}function Yf(e,t,n,r,u,a){var h=D(e),d=D(t),g=h?vn:ae(e),_=d?vn:ae(t);g=g==Ft?Ke:g,_=_==Ft?Ke:_;var w=g==Ke,x=_==Ke,A=g==_;if(A&&ht(e)){if(!ht(t))return!1;h=!0,w=!1}if(A&&!w)return a||(a=new Ue),h||Nt(e)?Ou(e,t,n,r,u,a):wh(e,t,g,n,r,u,a);if(!(n&tt)){var L=w&&K.call(e,"__wrapped__"),R=x&&K.call(t,"__wrapped__");if(L||R){var z=L?e.value():e,M=R?t.value():t;return a||(a=new Ue),u(z,M,n,r,a)}}return A?(a||(a=new Ue),yh(e,t,n,r,u,a)):!1}function Qf(e){return j(e)&&ae(e)==Me}function $r(e,t,n,r){var u=n.length,a=u,h=!r;if(e==null)return!a;for(e=Q(e);u--;){var d=n[u];if(h&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++u<a;){d=n[u];var g=d[0],_=e[g],w=d[1];if(h&&d[2]){if(_===i&&!(g in e))return!1}else{var x=new Ue;if(r)var A=r(_,w,g,e,t,x);if(!(A===i?an(w,_,tt|gn,r,x):A))return!1}}return!0}function tu(e){if(!$(e)||Sh(e))return!1;var t=$e(e)?Yo:Ua;return t.test(xt(e))}function Vf(e){return j(e)&&oe(e)==Vt}function Xf(e){return j(e)&&ae(e)==Oe}function Zf(e){return j(e)&&ur(e.length)&&!!X[oe(e)]}function nu(e){return typeof e=="function"?e:e==null?ge:typeof e=="object"?D(e)?su(e[0],e[1]):iu(e):Al(e)}function jr(e){if(!hn(e))return $o(e);var t=[];for(var n in Q(e))K.call(e,n)&&n!="constructor"&&t.push(n);return t}function Jf(e){if(!$(e))return Oh(e);var t=hn(e),n=[];for(var r in e)r=="constructor"&&(t||!K.call(e,r))||n.push(r);return n}function ei(e,t){return e<t}function ru(e,t){var n=-1,r=de(e)?m(e.length):[];return lt(e,function(u,a,h){r[++n]=t(u,a,h)}),r}function iu(e){var t=gi(e);return t.length==1&&t[0][2]?Bu(t[0][0],t[0][1]):function(n){return n===e||$r(n,e,t)}}function su(e,t){return vi(e)&&Pu(t)?Bu(qe(e),t):function(n){var r=bi(n,e);return r===i&&r===t?Li(n,e):an(t,r,tt|gn)}}function Gn(e,t,n,r,u){e!==t&&Vr(t,function(a,h){if(u||(u=new Ue),$(a))$f(e,t,h,n,Gn,r,u);else{var d=r?r(wi(e,h),a,h+"",e,t,u):i;d===i&&(d=a),Yr(e,h,d)}},pe)}function $f(e,t,n,r,u,a,h){var d=wi(e,n),g=wi(t,n),_=h.get(g);if(_){Yr(e,n,_);return}var w=a?a(d,g,n+"",e,t,h):i,x=w===i;if(x){var A=D(g),L=!A&&ht(g),R=!A&&!L&&Nt(g);w=g,A||L||R?D(d)?w=d:ee(d)?w=ce(d):L?(x=!1,w=vu(g,!0)):R?(x=!1,w=_u(g,!0)):w=[]:dn(g)||Tt(g)?(w=d,Tt(d)?w=pl(d):(!$(d)||$e(d))&&(w=zu(g))):x=!1}x&&(h.set(g,w),u(w,g,r,a,h),h.delete(g)),Yr(e,n,w)}function uu(e,t){var n=e.length;if(!!n)return t+=t<0?n:0,Je(t,n)?e[t]:i}function lu(e,t,n){t.length?t=Z(t,function(a){return D(a)?function(h){return wt(h,a.length===1?a[0]:a)}:a}):t=[ge];var r=-1;t=Z(t,ve(I()));var u=ru(e,function(a,h,d){var g=Z(t,function(_){return _(a)});return{criteria:g,index:++r,value:a}});return Ao(u,function(a,h){return hh(a,h,n)})}function jf(e,t){return au(e,t,function(n,r){return Li(e,r)})}function au(e,t,n){for(var r=-1,u=t.length,a={};++r<u;){var h=t[r],d=wt(e,h);n(d,h)&&on(a,ot(h,e),d)}return a}function eh(e){return function(t){return wt(t,e)}}function ti(e,t,n,r){var u=r?Eo:St,a=-1,h=t.length,d=e;for(e===t&&(t=ce(t)),n&&(d=Z(e,ve(n)));++a<h;)for(var g=0,_=t[a],w=n?n(_):_;(g=u(d,w,g,r))>-1;)d!==e&&Dn.call(d,g,1),Dn.call(e,g,1);return e}function ou(e,t){for(var n=e?t.length:0,r=n-1;n--;){var u=t[n];if(n==r||u!==a){var a=u;Je(u)?Dn.call(e,u,1):si(e,u)}}return e}function ni(e,t){return e+Pn(qs()*(t-e+1))}function th(e,t,n,r){for(var u=-1,a=re(zn((t-e)/(n||1)),0),h=m(a);a--;)h[r?a:++u]=e,e+=n;return h}function ri(e,t){var n="";if(!e||t<1||t>nt)return n;do t%2&&(n+=e),t=Pn(t/2),t&&(e+=e);while(t);return n}function P(e,t){return yi(Wu(e,t,ge),e+"")}function nh(e){return Ys(kt(e))}function rh(e,t){var n=kt(e);return er(n,_t(t,0,n.length))}function on(e,t,n,r){if(!$(e))return e;t=ot(t,e);for(var u=-1,a=t.length,h=a-1,d=e;d!=null&&++u<a;){var g=qe(t[u]),_=n;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(u!=h){var w=d[g];_=r?r(w,g,d):i,_===i&&(_=$(w)?w:Je(t[u+1])?[]:{})}sn(d,g,_),d=d[g]}return e}var fu=Bn?function(e,t){return Bn.set(e,t),e}:ge,ih=Un?function(e,t){return Un(e,"toString",{configurable:!0,enumerable:!1,value:Ii(t),writable:!0})}:ge;function sh(e){return er(kt(e))}function Se(e,t,n){var r=-1,u=e.length;t<0&&(t=-t>u?0:u+t),n=n>u?u:n,n<0&&(n+=u),u=t>n?0:n-t>>>0,t>>>=0;for(var a=m(u);++r<u;)a[r]=e[r+t];return a}function uh(e,t){var n;return lt(e,function(r,u,a){return n=t(r,u,a),!n}),!!n}function Kn(e,t,n){var r=0,u=e==null?r:e.length;if(typeof t=="number"&&t===t&&u<=ua){for(;r<u;){var a=r+u>>>1,h=e[a];h!==null&&!we(h)&&(n?h<=t:h<t)?r=a+1:u=a}return u}return ii(e,t,ge,n)}function ii(e,t,n,r){var u=0,a=e==null?0:e.length;if(a===0)return 0;t=n(t);for(var h=t!==t,d=t===null,g=we(t),_=t===i;u<a;){var w=Pn((u+a)/2),x=n(e[w]),A=x!==i,L=x===null,R=x===x,z=we(x);if(h)var M=r||R;else _?M=R&&(r||A):d?M=R&&A&&(r||!L):g?M=R&&A&&!L&&(r||!z):L||z?M=!1:M=r?x<=t:x<t;M?u=w+1:a=w}return le(a,sa)}function hu(e,t){for(var n=-1,r=e.length,u=0,a=[];++n<r;){var h=e[n],d=t?t(h):h;if(!n||!ze(d,g)){var g=d;a[u++]=h===0?0:h}}return a}function cu(e){return typeof e=="number"?e:we(e)?mn:+e}function _e(e){if(typeof e=="string")return e;if(D(e))return Z(e,_e)+"";if(we(e))return Gs?Gs.call(e):"";var t=e+"";return t=="0"&&1/e==-dt?"-0":t}function at(e,t,n){var r=-1,u=An,a=e.length,h=!0,d=[],g=d;if(n)h=!1,u=Or;else if(a>=c){var _=t?null:vh(e);if(_)return Fn(_);h=!1,u=$t,g=new vt}else g=t?[]:d;e:for(;++r<a;){var w=e[r],x=t?t(w):w;if(w=n||w!==0?w:0,h&&x===x){for(var A=g.length;A--;)if(g[A]===x)continue e;t&&g.push(x),d.push(w)}else u(g,x,n)||(g!==d&&g.push(x),d.push(w))}return d}function si(e,t){return t=ot(t,e),e=Nu(e,t),e==null||delete e[qe(Ie(t))]}function du(e,t,n,r){return on(e,t,n(wt(e,t)),r)}function Yn(e,t,n,r){for(var u=e.length,a=r?u:-1;(r?a--:++a<u)&&t(e[a],a,e););return n?Se(e,r?0:a,r?a+1:u):Se(e,r?a+1:0,r?u:a)}function pu(e,t){var n=e;return n instanceof N&&(n=n.value()),Dr(t,function(r,u){return u.func.apply(u.thisArg,it([r],u.args))},n)}function ui(e,t,n){var r=e.length;if(r<2)return r?at(e[0]):[];for(var u=-1,a=m(r);++u<r;)for(var h=e[u],d=-1;++d<r;)d!=u&&(a[u]=un(a[u]||h,e[d],t,n));return at(ue(a,1),t,n)}function gu(e,t,n){for(var r=-1,u=e.length,a=t.length,h={};++r<u;){var d=r<a?t[r]:i;n(h,e[r],d)}return h}function li(e){return ee(e)?e:[]}function ai(e){return typeof e=="function"?e:ge}function ot(e,t){return D(e)?e:vi(e,t)?[e]:Gu(G(e))}var lh=P;function ft(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:Se(e,t,n)}var mu=Qo||function(e){return se.clearTimeout(e)};function vu(e,t){if(t)return e.slice();var n=e.length,r=Bs?Bs(n):new e.constructor(n);return e.copy(r),r}function oi(e){var t=new e.constructor(e.byteLength);return new Mn(t).set(new Mn(e)),t}function ah(e,t){var n=t?oi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function oh(e){var t=new e.constructor(e.source,es.exec(e));return t.lastIndex=e.lastIndex,t}function fh(e){return rn?Q(rn.call(e)):{}}function _u(e,t){var n=t?oi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function wu(e,t){if(e!==t){var n=e!==i,r=e===null,u=e===e,a=we(e),h=t!==i,d=t===null,g=t===t,_=we(t);if(!d&&!_&&!a&&e>t||a&&h&&g&&!d&&!_||r&&h&&g||!n&&g||!u)return 1;if(!r&&!a&&!_&&e<t||_&&n&&u&&!r&&!a||d&&n&&u||!h&&u||!g)return-1}return 0}function hh(e,t,n){for(var r=-1,u=e.criteria,a=t.criteria,h=u.length,d=n.length;++r<h;){var g=wu(u[r],a[r]);if(g){if(r>=d)return g;var _=n[r];return g*(_=="desc"?-1:1)}}return e.index-t.index}function yu(e,t,n,r){for(var u=-1,a=e.length,h=n.length,d=-1,g=t.length,_=re(a-h,0),w=m(g+_),x=!r;++d<g;)w[d]=t[d];for(;++u<h;)(x||u<a)&&(w[n[u]]=e[u]);for(;_--;)w[d++]=e[u++];return w}function xu(e,t,n,r){for(var u=-1,a=e.length,h=-1,d=n.length,g=-1,_=t.length,w=re(a-d,0),x=m(w+_),A=!r;++u<w;)x[u]=e[u];for(var L=u;++g<_;)x[L+g]=t[g];for(;++h<d;)(A||u<a)&&(x[L+n[h]]=e[u++]);return x}function ce(e,t){var n=-1,r=e.length;for(t||(t=m(r));++n<r;)t[n]=e[n];return t}function He(e,t,n,r){var u=!n;n||(n={});for(var a=-1,h=t.length;++a<h;){var d=t[a],g=r?r(n[d],e[d],d,n,e):i;g===i&&(g=e[d]),u?Ve(n,d,g):sn(n,d,g)}return n}function ch(e,t){return He(e,mi(e),t)}function dh(e,t){return He(e,Du(e),t)}function Qn(e,t){return function(n,r){var u=D(n)?vo:Uf,a=t?t():{};return u(n,e,I(r,2),a)}}function Pt(e){return P(function(t,n){var r=-1,u=n.length,a=u>1?n[u-1]:i,h=u>2?n[2]:i;for(a=e.length>3&&typeof a=="function"?(u--,a):i,h&&fe(n[0],n[1],h)&&(a=u<3?i:a,u=1),t=Q(t);++r<u;){var d=n[r];d&&e(t,d,r,a)}return t})}function Tu(e,t){return function(n,r){if(n==null)return n;if(!de(n))return e(n,r);for(var u=n.length,a=t?u:-1,h=Q(n);(t?a--:++a<u)&&r(h[a],a,h)!==!1;);return n}}function Eu(e){return function(t,n,r){for(var u=-1,a=Q(t),h=r(t),d=h.length;d--;){var g=h[e?d:++u];if(n(a[g],g,a)===!1)break}return t}}function ph(e,t,n){var r=t&Ee,u=fn(e);function a(){var h=this&&this!==se&&this instanceof a?u:e;return h.apply(r?n:this,arguments)}return a}function Au(e){return function(t){t=G(t);var n=It(t)?De(t):i,r=n?n[0]:t.charAt(0),u=n?ft(n,1).join(""):t.slice(1);return r[e]()+u}}function Bt(e){return function(t){return Dr(Tl(xl(t).replace(no,"")),e,"")}}function fn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zt(e.prototype),r=e.apply(n,t);return $(r)?r:n}}function gh(e,t,n){var r=fn(e);function u(){for(var a=arguments.length,h=m(a),d=a,g=Wt(u);d--;)h[d]=arguments[d];var _=a<3&&h[0]!==g&&h[a-1]!==g?[]:st(h,g);if(a-=_.length,a<n)return Su(e,t,Vn,u.placeholder,i,h,_,i,i,n-a);var w=this&&this!==se&&this instanceof u?r:e;return me(w,this,h)}return u}function Cu(e){return function(t,n,r){var u=Q(t);if(!de(t)){var a=I(n,3);t=ie(t),n=function(d){return a(u[d],d,u)}}var h=e(t,n,r);return h>-1?u[a?t[h]:h]:i}}function Fu(e){return Ze(function(t){var n=t.length,r=n,u=be.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if(typeof a!="function")throw new Fe(T);if(u&&!h&&$n(a)=="wrapper")var h=new be([],!0)}for(r=h?r:n;++r<n;){a=t[r];var d=$n(a),g=d=="wrapper"?pi(a):i;g&&_i(g[0])&&g[1]==(Ge|Be|We|Gt)&&!g[4].length&&g[9]==1?h=h[$n(g[0])].apply(h,g[3]):h=a.length==1&&_i(a)?h[d]():h.thru(a)}return function(){var _=arguments,w=_[0];if(h&&_.length==1&&D(w))return h.plant(w).value();for(var x=0,A=n?t[x].apply(this,_):w;++x<n;)A=t[x].call(this,A);return A}})}function Vn(e,t,n,r,u,a,h,d,g,_){var w=t&Ge,x=t&Ee,A=t&ct,L=t&(Be|At),R=t&pr,z=A?i:fn(e);function M(){for(var W=arguments.length,k=m(W),ye=W;ye--;)k[ye]=arguments[ye];if(L)var he=Wt(M),xe=Fo(k,he);if(r&&(k=yu(k,r,u,L)),a&&(k=xu(k,a,h,L)),W-=xe,L&&W<_){var te=st(k,he);return Su(e,t,Vn,M.placeholder,n,k,te,d,g,_-W)}var Pe=x?n:this,et=A?Pe[e]:e;return W=k.length,d?k=Uh(k,d):R&&W>1&&k.reverse(),w&&g<W&&(k.length=g),this&&this!==se&&this instanceof M&&(et=z||fn(et)),et.apply(Pe,k)}return M}function bu(e,t){return function(n,r){return qf(n,e,t(r),{})}}function Xn(e,t){return function(n,r){var u;if(n===i&&r===i)return t;if(n!==i&&(u=n),r!==i){if(u===i)return r;typeof n=="string"||typeof r=="string"?(n=_e(n),r=_e(r)):(n=cu(n),r=cu(r)),u=e(n,r)}return u}}function fi(e){return Ze(function(t){return t=Z(t,ve(I())),P(function(n){var r=this;return e(t,function(u){return me(u,r,n)})})})}function Zn(e,t){t=t===i?" ":_e(t);var n=t.length;if(n<2)return n?ri(t,e):t;var r=ri(t,zn(e/Rt(t)));return It(t)?ft(De(r),0,e).join(""):r.slice(0,e)}function mh(e,t,n,r){var u=t&Ee,a=fn(e);function h(){for(var d=-1,g=arguments.length,_=-1,w=r.length,x=m(w+g),A=this&&this!==se&&this instanceof h?a:e;++_<w;)x[_]=r[_];for(;g--;)x[_++]=arguments[++d];return me(A,u?n:this,x)}return h}function Lu(e){return function(t,n,r){return r&&typeof r!="number"&&fe(t,n,r)&&(n=r=i),t=je(t),n===i?(n=t,t=0):n=je(n),r=r===i?t<n?1:-1:je(r),th(t,n,r,e)}}function Jn(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Re(t),n=Re(n)),e(t,n)}}function Su(e,t,n,r,u,a,h,d,g,_){var w=t&Be,x=w?h:i,A=w?i:h,L=w?a:i,R=w?i:a;t|=w?We:Ct,t&=~(w?Ct:We),t&Qi||(t&=~(Ee|ct));var z=[e,t,u,L,x,R,A,d,g,_],M=n.apply(i,z);return _i(e)&&ku(M,z),M.placeholder=r,Hu(M,e,t)}function hi(e){var t=ne[e];return function(n,r){if(n=Re(n),r=r==null?0:le(U(r),292),r&&Hs(n)){var u=(G(n)+"e").split("e"),a=t(u[0]+"e"+(+u[1]+r));return u=(G(a)+"e").split("e"),+(u[0]+"e"+(+u[1]-r))}return t(n)}}var vh=Dt&&1/Fn(new Dt([,-0]))[1]==dt?function(e){return new Dt(e)}:Oi;function Iu(e){return function(t){var n=ae(t);return n==Me?kr(t):n==Oe?Oo(t):Co(t,e(t))}}function Xe(e,t,n,r,u,a,h,d){var g=t&ct;if(!g&&typeof e!="function")throw new Fe(T);var _=r?r.length:0;if(_||(t&=~(We|Ct),r=u=i),h=h===i?h:re(U(h),0),d=d===i?d:U(d),_-=u?u.length:0,t&Ct){var w=r,x=u;r=u=i}var A=g?i:pi(e),L=[e,t,n,r,u,w,x,a,h,d];if(A&&Mh(L,A),e=L[0],t=L[1],n=L[2],r=L[3],u=L[4],d=L[9]=L[9]===i?g?0:e.length:re(L[9]-_,0),!d&&t&(Be|At)&&(t&=~(Be|At)),!t||t==Ee)var R=ph(e,t,n);else t==Be||t==At?R=gh(e,t,d):(t==We||t==(Ee|We))&&!u.length?R=mh(e,t,n,r):R=Vn.apply(i,L);var z=A?fu:ku;return Hu(z(R,L),e,t)}function Ru(e,t,n,r){return e===i||ze(e,Ot[n])&&!K.call(r,n)?t:e}function Mu(e,t,n,r,u,a){return $(e)&&$(t)&&(a.set(t,e),Gn(e,t,i,Mu,a),a.delete(t)),e}function _h(e){return dn(e)?i:e}function Ou(e,t,n,r,u,a){var h=n&tt,d=e.length,g=t.length;if(d!=g&&!(h&&g>d))return!1;var _=a.get(e),w=a.get(t);if(_&&w)return _==t&&w==e;var x=-1,A=!0,L=n&gn?new vt:i;for(a.set(e,t),a.set(t,e);++x<d;){var R=e[x],z=t[x];if(r)var M=h?r(z,R,x,t,e,a):r(R,z,x,e,t,a);if(M!==i){if(M)continue;A=!1;break}if(L){if(!Ur(t,function(W,k){if(!$t(L,k)&&(R===W||u(R,W,n,r,a)))return L.push(k)})){A=!1;break}}else if(!(R===z||u(R,z,n,r,a))){A=!1;break}}return a.delete(e),a.delete(t),A}function wh(e,t,n,r,u,a,h){switch(n){case bt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Jt:return!(e.byteLength!=t.byteLength||!a(new Mn(e),new Mn(t)));case Kt:case Yt:case Qt:return ze(+e,+t);case _n:return e.name==t.name&&e.message==t.message;case Vt:case Xt:return e==t+"";case Me:var d=kr;case Oe:var g=r&tt;if(d||(d=Fn),e.size!=t.size&&!g)return!1;var _=h.get(e);if(_)return _==t;r|=gn,h.set(e,t);var w=Ou(d(e),d(t),r,u,a,h);return h.delete(e),w;case yn:if(rn)return rn.call(e)==rn.call(t)}return!1}function yh(e,t,n,r,u,a){var h=n&tt,d=ci(e),g=d.length,_=ci(t),w=_.length;if(g!=w&&!h)return!1;for(var x=g;x--;){var A=d[x];if(!(h?A in t:K.call(t,A)))return!1}var L=a.get(e),R=a.get(t);if(L&&R)return L==t&&R==e;var z=!0;a.set(e,t),a.set(t,e);for(var M=h;++x<g;){A=d[x];var W=e[A],k=t[A];if(r)var ye=h?r(k,W,A,t,e,a):r(W,k,A,e,t,a);if(!(ye===i?W===k||u(W,k,n,r,a):ye)){z=!1;break}M||(M=A=="constructor")}if(z&&!M){var he=e.constructor,xe=t.constructor;he!=xe&&"constructor"in e&&"constructor"in t&&!(typeof he=="function"&&he instanceof he&&typeof xe=="function"&&xe instanceof xe)&&(z=!1)}return a.delete(e),a.delete(t),z}function Ze(e){return yi(Wu(e,i,Vu),e+"")}function ci(e){return js(e,ie,mi)}function di(e){return js(e,pe,Du)}var pi=Bn?function(e){return Bn.get(e)}:Oi;function $n(e){for(var t=e.name+"",n=Ut[t],r=K.call(Ut,t)?n.length:0;r--;){var u=n[r],a=u.func;if(a==null||a==e)return u.name}return t}function Wt(e){var t=K.call(l,"placeholder")?l:e;return t.placeholder}function I(){var e=l.iteratee||Ri;return e=e===Ri?nu:e,arguments.length?e(arguments[0],arguments[1]):e}function jn(e,t){var n=e.__data__;return Lh(t)?n[typeof t=="string"?"string":"hash"]:n.map}function gi(e){for(var t=ie(e),n=t.length;n--;){var r=t[n],u=e[r];t[n]=[r,u,Pu(u)]}return t}function yt(e,t){var n=Io(e,t);return tu(n)?n:i}function xh(e){var t=K.call(e,gt),n=e[gt];try{e[gt]=i;var r=!0}catch{}var u=In.call(e);return r&&(t?e[gt]=n:delete e[gt]),u}var mi=qr?function(e){return e==null?[]:(e=Q(e),rt(qr(e),function(t){return Ns.call(e,t)}))}:Di,Du=qr?function(e){for(var t=[];e;)it(t,mi(e)),e=On(e);return t}:Di,ae=oe;(Gr&&ae(new Gr(new ArrayBuffer(1)))!=bt||en&&ae(new en)!=Me||Kr&&ae(Kr.resolve())!=Zi||Dt&&ae(new Dt)!=Oe||tn&&ae(new tn)!=Zt)&&(ae=function(e){var t=oe(e),n=t==Ke?e.constructor:i,r=n?xt(n):"";if(r)switch(r){case nf:return bt;case rf:return Me;case sf:return Zi;case uf:return Oe;case lf:return Zt}return t});function Th(e,t,n){for(var r=-1,u=n.length;++r<u;){var a=n[r],h=a.size;switch(a.type){case"drop":e+=h;break;case"dropRight":t-=h;break;case"take":t=le(t,e+h);break;case"takeRight":e=re(e,t-h);break}}return{start:e,end:t}}function Eh(e){var t=e.match(ba);return t?t[1].split(La):[]}function Uu(e,t,n){t=ot(t,e);for(var r=-1,u=t.length,a=!1;++r<u;){var h=qe(t[r]);if(!(a=e!=null&&n(e,h)))break;e=e[h]}return a||++r!=u?a:(u=e==null?0:e.length,!!u&&ur(u)&&Je(h,u)&&(D(e)||Tt(e)))}function Ah(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&K.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function zu(e){return typeof e.constructor=="function"&&!hn(e)?zt(On(e)):{}}function Ch(e,t,n){var r=e.constructor;switch(t){case Jt:return oi(e);case Kt:case Yt:return new r(+e);case bt:return ah(e,n);case gr:case mr:case vr:case _r:case wr:case yr:case xr:case Tr:case Er:return _u(e,n);case Me:return new r;case Qt:case Xt:return new r(e);case Vt:return oh(e);case Oe:return new r;case yn:return fh(e)}}function Fh(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Fa,`{
/* [wrapped with `+t+`] */
`)}function bh(e){return D(e)||Tt(e)||!!(ks&&e&&e[ks])}function Je(e,t){var n=typeof e;return t=t==null?nt:t,!!t&&(n=="number"||n!="symbol"&&Pa.test(e))&&e>-1&&e%1==0&&e<t}function fe(e,t,n){if(!$(n))return!1;var r=typeof t;return(r=="number"?de(n)&&Je(t,n.length):r=="string"&&t in n)?ze(n[t],e):!1}function vi(e,t){if(D(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||we(e)?!0:Ta.test(e)||!xa.test(e)||t!=null&&e in Q(t)}function Lh(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function _i(e){var t=$n(e),n=l[t];if(typeof n!="function"||!(t in N.prototype))return!1;if(e===n)return!0;var r=pi(n);return!!r&&e===r[0]}function Sh(e){return!!Ps&&Ps in e}var Ih=Ln?$e:Ui;function hn(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Ot;return e===n}function Pu(e){return e===e&&!$(e)}function Bu(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==i||e in Q(n))}}function Rh(e){var t=ir(e,function(r){return n.size===S&&n.clear(),r}),n=t.cache;return t}function Mh(e,t){var n=e[1],r=t[1],u=n|r,a=u<(Ee|ct|Ge),h=r==Ge&&n==Be||r==Ge&&n==Gt&&e[7].length<=t[8]||r==(Ge|Gt)&&t[7].length<=t[8]&&n==Be;if(!(a||h))return e;r&Ee&&(e[2]=t[2],u|=n&Ee?0:Qi);var d=t[3];if(d){var g=e[3];e[3]=g?yu(g,d,t[4]):d,e[4]=g?st(e[3],B):t[4]}return d=t[5],d&&(g=e[5],e[5]=g?xu(g,d,t[6]):d,e[6]=g?st(e[5],B):t[6]),d=t[7],d&&(e[7]=d),r&Ge&&(e[8]=e[8]==null?t[8]:le(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=u,e}function Oh(e){var t=[];if(e!=null)for(var n in Q(e))t.push(n);return t}function Dh(e){return In.call(e)}function Wu(e,t,n){return t=re(t===i?e.length-1:t,0),function(){for(var r=arguments,u=-1,a=re(r.length-t,0),h=m(a);++u<a;)h[u]=r[t+u];u=-1;for(var d=m(t+1);++u<t;)d[u]=r[u];return d[t]=n(h),me(e,this,d)}}function Nu(e,t){return t.length<2?e:wt(e,Se(t,0,-1))}function Uh(e,t){for(var n=e.length,r=le(t.length,n),u=ce(e);r--;){var a=t[r];e[r]=Je(a,n)?u[a]:i}return e}function wi(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var ku=qu(fu),cn=Xo||function(e,t){return se.setTimeout(e,t)},yi=qu(ih);function Hu(e,t,n){var r=t+"";return yi(e,Fh(r,zh(Eh(r),n)))}function qu(e){var t=0,n=0;return function(){var r=jo(),u=ta-(r-n);if(n=r,u>0){if(++t>=ea)return arguments[0]}else t=0;return e.apply(i,arguments)}}function er(e,t){var n=-1,r=e.length,u=r-1;for(t=t===i?r:t;++n<t;){var a=ni(n,u),h=e[a];e[a]=e[n],e[n]=h}return e.length=t,e}var Gu=Rh(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ea,function(n,r,u,a){t.push(u?a.replace(Ra,"$1"):r||n)}),t});function qe(e){if(typeof e=="string"||we(e))return e;var t=e+"";return t=="0"&&1/e==-dt?"-0":t}function xt(e){if(e!=null){try{return Sn.call(e)}catch{}try{return e+""}catch{}}return""}function zh(e,t){return Ce(la,function(n){var r="_."+n[0];t&n[1]&&!An(e,r)&&e.push(r)}),e.sort()}function Ku(e){if(e instanceof N)return e.clone();var t=new be(e.__wrapped__,e.__chain__);return t.__actions__=ce(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Ph(e,t,n){(n?fe(e,t,n):t===i)?t=1:t=re(U(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var u=0,a=0,h=m(zn(r/t));u<r;)h[a++]=Se(e,u,u+=t);return h}function Bh(e){for(var t=-1,n=e==null?0:e.length,r=0,u=[];++t<n;){var a=e[t];a&&(u[r++]=a)}return u}function Wh(){var e=arguments.length;if(!e)return[];for(var t=m(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return it(D(n)?ce(n):[n],ue(t,1))}var Nh=P(function(e,t){return ee(e)?un(e,ue(t,1,ee,!0)):[]}),kh=P(function(e,t){var n=Ie(t);return ee(n)&&(n=i),ee(e)?un(e,ue(t,1,ee,!0),I(n,2)):[]}),Hh=P(function(e,t){var n=Ie(t);return ee(n)&&(n=i),ee(e)?un(e,ue(t,1,ee,!0),i,n):[]});function qh(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:U(t),Se(e,t<0?0:t,r)):[]}function Gh(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:U(t),t=r-t,Se(e,0,t<0?0:t)):[]}function Kh(e,t){return e&&e.length?Yn(e,I(t,3),!0,!0):[]}function Yh(e,t){return e&&e.length?Yn(e,I(t,3),!0):[]}function Qh(e,t,n,r){var u=e==null?0:e.length;return u?(n&&typeof n!="number"&&fe(e,t,n)&&(n=0,r=u),Wf(e,t,n,r)):[]}function Yu(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var u=n==null?0:U(n);return u<0&&(u=re(r+u,0)),Cn(e,I(t,3),u)}function Qu(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var u=r-1;return n!==i&&(u=U(n),u=n<0?re(r+u,0):le(u,r-1)),Cn(e,I(t,3),u,!0)}function Vu(e){var t=e==null?0:e.length;return t?ue(e,1):[]}function Vh(e){var t=e==null?0:e.length;return t?ue(e,dt):[]}function Xh(e,t){var n=e==null?0:e.length;return n?(t=t===i?1:U(t),ue(e,t)):[]}function Zh(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var u=e[t];r[u[0]]=u[1]}return r}function Xu(e){return e&&e.length?e[0]:i}function Jh(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var u=n==null?0:U(n);return u<0&&(u=re(r+u,0)),St(e,t,u)}function $h(e){var t=e==null?0:e.length;return t?Se(e,0,-1):[]}var jh=P(function(e){var t=Z(e,li);return t.length&&t[0]===e[0]?Jr(t):[]}),ec=P(function(e){var t=Ie(e),n=Z(e,li);return t===Ie(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Jr(n,I(t,2)):[]}),tc=P(function(e){var t=Ie(e),n=Z(e,li);return t=typeof t=="function"?t:i,t&&n.pop(),n.length&&n[0]===e[0]?Jr(n,i,t):[]});function nc(e,t){return e==null?"":Jo.call(e,t)}function Ie(e){var t=e==null?0:e.length;return t?e[t-1]:i}function rc(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var u=r;return n!==i&&(u=U(n),u=u<0?re(r+u,0):le(u,r-1)),t===t?Uo(e,t,u):Cn(e,Ss,u,!0)}function ic(e,t){return e&&e.length?uu(e,U(t)):i}var sc=P(Zu);function Zu(e,t){return e&&e.length&&t&&t.length?ti(e,t):e}function uc(e,t,n){return e&&e.length&&t&&t.length?ti(e,t,I(n,2)):e}function lc(e,t,n){return e&&e.length&&t&&t.length?ti(e,t,i,n):e}var ac=Ze(function(e,t){var n=e==null?0:e.length,r=Qr(e,t);return ou(e,Z(t,function(u){return Je(u,n)?+u:u}).sort(wu)),r});function oc(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,u=[],a=e.length;for(t=I(t,3);++r<a;){var h=e[r];t(h,r,e)&&(n.push(h),u.push(r))}return ou(e,u),n}function xi(e){return e==null?e:tf.call(e)}function fc(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&fe(e,t,n)?(t=0,n=r):(t=t==null?0:U(t),n=n===i?r:U(n)),Se(e,t,n)):[]}function hc(e,t){return Kn(e,t)}function cc(e,t,n){return ii(e,t,I(n,2))}function dc(e,t){var n=e==null?0:e.length;if(n){var r=Kn(e,t);if(r<n&&ze(e[r],t))return r}return-1}function pc(e,t){return Kn(e,t,!0)}function gc(e,t,n){return ii(e,t,I(n,2),!0)}function mc(e,t){var n=e==null?0:e.length;if(n){var r=Kn(e,t,!0)-1;if(ze(e[r],t))return r}return-1}function vc(e){return e&&e.length?hu(e):[]}function _c(e,t){return e&&e.length?hu(e,I(t,2)):[]}function wc(e){var t=e==null?0:e.length;return t?Se(e,1,t):[]}function yc(e,t,n){return e&&e.length?(t=n||t===i?1:U(t),Se(e,0,t<0?0:t)):[]}function xc(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:U(t),t=r-t,Se(e,t<0?0:t,r)):[]}function Tc(e,t){return e&&e.length?Yn(e,I(t,3),!1,!0):[]}function Ec(e,t){return e&&e.length?Yn(e,I(t,3)):[]}var Ac=P(function(e){return at(ue(e,1,ee,!0))}),Cc=P(function(e){var t=Ie(e);return ee(t)&&(t=i),at(ue(e,1,ee,!0),I(t,2))}),Fc=P(function(e){var t=Ie(e);return t=typeof t=="function"?t:i,at(ue(e,1,ee,!0),i,t)});function bc(e){return e&&e.length?at(e):[]}function Lc(e,t){return e&&e.length?at(e,I(t,2)):[]}function Sc(e,t){return t=typeof t=="function"?t:i,e&&e.length?at(e,i,t):[]}function Ti(e){if(!(e&&e.length))return[];var t=0;return e=rt(e,function(n){if(ee(n))return t=re(n.length,t),!0}),Wr(t,function(n){return Z(e,zr(n))})}function Ju(e,t){if(!(e&&e.length))return[];var n=Ti(e);return t==null?n:Z(n,function(r){return me(t,i,r)})}var Ic=P(function(e,t){return ee(e)?un(e,t):[]}),Rc=P(function(e){return ui(rt(e,ee))}),Mc=P(function(e){var t=Ie(e);return ee(t)&&(t=i),ui(rt(e,ee),I(t,2))}),Oc=P(function(e){var t=Ie(e);return t=typeof t=="function"?t:i,ui(rt(e,ee),i,t)}),Dc=P(Ti);function Uc(e,t){return gu(e||[],t||[],sn)}function zc(e,t){return gu(e||[],t||[],on)}var Pc=P(function(e){var t=e.length,n=t>1?e[t-1]:i;return n=typeof n=="function"?(e.pop(),n):i,Ju(e,n)});function $u(e){var t=l(e);return t.__chain__=!0,t}function Bc(e,t){return t(e),e}function tr(e,t){return t(e)}var Wc=Ze(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,u=function(a){return Qr(a,e)};return t>1||this.__actions__.length||!(r instanceof N)||!Je(n)?this.thru(u):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:tr,args:[u],thisArg:i}),new be(r,this.__chain__).thru(function(a){return t&&!a.length&&a.push(i),a}))});function Nc(){return $u(this)}function kc(){return new be(this.value(),this.__chain__)}function Hc(){this.__values__===i&&(this.__values__=cl(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function qc(){return this}function Gc(e){for(var t,n=this;n instanceof Nn;){var r=Ku(n);r.__index__=0,r.__values__=i,t?u.__wrapped__=r:t=r;var u=r;n=n.__wrapped__}return u.__wrapped__=e,t}function Kc(){var e=this.__wrapped__;if(e instanceof N){var t=e;return this.__actions__.length&&(t=new N(this)),t=t.reverse(),t.__actions__.push({func:tr,args:[xi],thisArg:i}),new be(t,this.__chain__)}return this.thru(xi)}function Yc(){return pu(this.__wrapped__,this.__actions__)}var Qc=Qn(function(e,t,n){K.call(e,n)?++e[n]:Ve(e,n,1)});function Vc(e,t,n){var r=D(e)?bs:Bf;return n&&fe(e,t,n)&&(t=i),r(e,I(t,3))}function Xc(e,t){var n=D(e)?rt:Js;return n(e,I(t,3))}var Zc=Cu(Yu),Jc=Cu(Qu);function $c(e,t){return ue(nr(e,t),1)}function jc(e,t){return ue(nr(e,t),dt)}function ed(e,t,n){return n=n===i?1:U(n),ue(nr(e,t),n)}function ju(e,t){var n=D(e)?Ce:lt;return n(e,I(t,3))}function el(e,t){var n=D(e)?_o:Zs;return n(e,I(t,3))}var td=Qn(function(e,t,n){K.call(e,n)?e[n].push(t):Ve(e,n,[t])});function nd(e,t,n,r){e=de(e)?e:kt(e),n=n&&!r?U(n):0;var u=e.length;return n<0&&(n=re(u+n,0)),lr(e)?n<=u&&e.indexOf(t,n)>-1:!!u&&St(e,t,n)>-1}var rd=P(function(e,t,n){var r=-1,u=typeof t=="function",a=de(e)?m(e.length):[];return lt(e,function(h){a[++r]=u?me(t,h,n):ln(h,t,n)}),a}),id=Qn(function(e,t,n){Ve(e,n,t)});function nr(e,t){var n=D(e)?Z:ru;return n(e,I(t,3))}function sd(e,t,n,r){return e==null?[]:(D(t)||(t=t==null?[]:[t]),n=r?i:n,D(n)||(n=n==null?[]:[n]),lu(e,t,n))}var ud=Qn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function ld(e,t,n){var r=D(e)?Dr:Rs,u=arguments.length<3;return r(e,I(t,4),n,u,lt)}function ad(e,t,n){var r=D(e)?wo:Rs,u=arguments.length<3;return r(e,I(t,4),n,u,Zs)}function od(e,t){var n=D(e)?rt:Js;return n(e,sr(I(t,3)))}function fd(e){var t=D(e)?Ys:nh;return t(e)}function hd(e,t,n){(n?fe(e,t,n):t===i)?t=1:t=U(t);var r=D(e)?Of:rh;return r(e,t)}function cd(e){var t=D(e)?Df:sh;return t(e)}function dd(e){if(e==null)return 0;if(de(e))return lr(e)?Rt(e):e.length;var t=ae(e);return t==Me||t==Oe?e.size:jr(e).length}function pd(e,t,n){var r=D(e)?Ur:uh;return n&&fe(e,t,n)&&(t=i),r(e,I(t,3))}var gd=P(function(e,t){if(e==null)return[];var n=t.length;return n>1&&fe(e,t[0],t[1])?t=[]:n>2&&fe(t[0],t[1],t[2])&&(t=[t[0]]),lu(e,ue(t,1),[])}),rr=Vo||function(){return se.Date.now()};function md(e,t){if(typeof t!="function")throw new Fe(T);return e=U(e),function(){if(--e<1)return t.apply(this,arguments)}}function tl(e,t,n){return t=n?i:t,t=e&&t==null?e.length:t,Xe(e,Ge,i,i,i,i,t)}function nl(e,t){var n;if(typeof t!="function")throw new Fe(T);return e=U(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ei=P(function(e,t,n){var r=Ee;if(n.length){var u=st(n,Wt(Ei));r|=We}return Xe(e,r,t,n,u)}),rl=P(function(e,t,n){var r=Ee|ct;if(n.length){var u=st(n,Wt(rl));r|=We}return Xe(t,r,e,n,u)});function il(e,t,n){t=n?i:t;var r=Xe(e,Be,i,i,i,i,i,t);return r.placeholder=il.placeholder,r}function sl(e,t,n){t=n?i:t;var r=Xe(e,At,i,i,i,i,i,t);return r.placeholder=sl.placeholder,r}function ul(e,t,n){var r,u,a,h,d,g,_=0,w=!1,x=!1,A=!0;if(typeof e!="function")throw new Fe(T);t=Re(t)||0,$(n)&&(w=!!n.leading,x="maxWait"in n,a=x?re(Re(n.maxWait)||0,t):a,A="trailing"in n?!!n.trailing:A);function L(te){var Pe=r,et=u;return r=u=i,_=te,h=e.apply(et,Pe),h}function R(te){return _=te,d=cn(W,t),w?L(te):h}function z(te){var Pe=te-g,et=te-_,Cl=t-Pe;return x?le(Cl,a-et):Cl}function M(te){var Pe=te-g,et=te-_;return g===i||Pe>=t||Pe<0||x&&et>=a}function W(){var te=rr();if(M(te))return k(te);d=cn(W,z(te))}function k(te){return d=i,A&&r?L(te):(r=u=i,h)}function ye(){d!==i&&mu(d),_=0,r=g=u=d=i}function he(){return d===i?h:k(rr())}function xe(){var te=rr(),Pe=M(te);if(r=arguments,u=this,g=te,Pe){if(d===i)return R(g);if(x)return mu(d),d=cn(W,t),L(g)}return d===i&&(d=cn(W,t)),h}return xe.cancel=ye,xe.flush=he,xe}var vd=P(function(e,t){return Xs(e,1,t)}),_d=P(function(e,t,n){return Xs(e,Re(t)||0,n)});function wd(e){return Xe(e,pr)}function ir(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Fe(T);var n=function(){var r=arguments,u=t?t.apply(this,r):r[0],a=n.cache;if(a.has(u))return a.get(u);var h=e.apply(this,r);return n.cache=a.set(u,h)||a,h};return n.cache=new(ir.Cache||Qe),n}ir.Cache=Qe;function sr(e){if(typeof e!="function")throw new Fe(T);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function yd(e){return nl(2,e)}var xd=lh(function(e,t){t=t.length==1&&D(t[0])?Z(t[0],ve(I())):Z(ue(t,1),ve(I()));var n=t.length;return P(function(r){for(var u=-1,a=le(r.length,n);++u<a;)r[u]=t[u].call(this,r[u]);return me(e,this,r)})}),Ai=P(function(e,t){var n=st(t,Wt(Ai));return Xe(e,We,i,t,n)}),ll=P(function(e,t){var n=st(t,Wt(ll));return Xe(e,Ct,i,t,n)}),Td=Ze(function(e,t){return Xe(e,Gt,i,i,i,t)});function Ed(e,t){if(typeof e!="function")throw new Fe(T);return t=t===i?t:U(t),P(e,t)}function Ad(e,t){if(typeof e!="function")throw new Fe(T);return t=t==null?0:re(U(t),0),P(function(n){var r=n[t],u=ft(n,0,t);return r&&it(u,r),me(e,this,u)})}function Cd(e,t,n){var r=!0,u=!0;if(typeof e!="function")throw new Fe(T);return $(n)&&(r="leading"in n?!!n.leading:r,u="trailing"in n?!!n.trailing:u),ul(e,t,{leading:r,maxWait:t,trailing:u})}function Fd(e){return tl(e,1)}function bd(e,t){return Ai(ai(t),e)}function Ld(){if(!arguments.length)return[];var e=arguments[0];return D(e)?e:[e]}function Sd(e){return Le(e,Y)}function Id(e,t){return t=typeof t=="function"?t:i,Le(e,Y,t)}function Rd(e){return Le(e,H|Y)}function Md(e,t){return t=typeof t=="function"?t:i,Le(e,H|Y,t)}function Od(e,t){return t==null||Vs(e,t,ie(t))}function ze(e,t){return e===t||e!==e&&t!==t}var Dd=Jn(Zr),Ud=Jn(function(e,t){return e>=t}),Tt=eu(function(){return arguments}())?eu:function(e){return j(e)&&K.call(e,"callee")&&!Ns.call(e,"callee")},D=m.isArray,zd=xs?ve(xs):Gf;function de(e){return e!=null&&ur(e.length)&&!$e(e)}function ee(e){return j(e)&&de(e)}function Pd(e){return e===!0||e===!1||j(e)&&oe(e)==Kt}var ht=Zo||Ui,Bd=Ts?ve(Ts):Kf;function Wd(e){return j(e)&&e.nodeType===1&&!dn(e)}function Nd(e){if(e==null)return!0;if(de(e)&&(D(e)||typeof e=="string"||typeof e.splice=="function"||ht(e)||Nt(e)||Tt(e)))return!e.length;var t=ae(e);if(t==Me||t==Oe)return!e.size;if(hn(e))return!jr(e).length;for(var n in e)if(K.call(e,n))return!1;return!0}function kd(e,t){return an(e,t)}function Hd(e,t,n){n=typeof n=="function"?n:i;var r=n?n(e,t):i;return r===i?an(e,t,i,n):!!r}function Ci(e){if(!j(e))return!1;var t=oe(e);return t==_n||t==oa||typeof e.message=="string"&&typeof e.name=="string"&&!dn(e)}function qd(e){return typeof e=="number"&&Hs(e)}function $e(e){if(!$(e))return!1;var t=oe(e);return t==wn||t==Xi||t==aa||t==ha}function al(e){return typeof e=="number"&&e==U(e)}function ur(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nt}function $(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function j(e){return e!=null&&typeof e=="object"}var ol=Es?ve(Es):Qf;function Gd(e,t){return e===t||$r(e,t,gi(t))}function Kd(e,t,n){return n=typeof n=="function"?n:i,$r(e,t,gi(t),n)}function Yd(e){return fl(e)&&e!=+e}function Qd(e){if(Ih(e))throw new O(y);return tu(e)}function Vd(e){return e===null}function Xd(e){return e==null}function fl(e){return typeof e=="number"||j(e)&&oe(e)==Qt}function dn(e){if(!j(e)||oe(e)!=Ke)return!1;var t=On(e);if(t===null)return!0;var n=K.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Sn.call(n)==Go}var Fi=As?ve(As):Vf;function Zd(e){return al(e)&&e>=-nt&&e<=nt}var hl=Cs?ve(Cs):Xf;function lr(e){return typeof e=="string"||!D(e)&&j(e)&&oe(e)==Xt}function we(e){return typeof e=="symbol"||j(e)&&oe(e)==yn}var Nt=Fs?ve(Fs):Zf;function Jd(e){return e===i}function $d(e){return j(e)&&ae(e)==Zt}function jd(e){return j(e)&&oe(e)==da}var ep=Jn(ei),tp=Jn(function(e,t){return e<=t});function cl(e){if(!e)return[];if(de(e))return lr(e)?De(e):ce(e);if(jt&&e[jt])return Mo(e[jt]());var t=ae(e),n=t==Me?kr:t==Oe?Fn:kt;return n(e)}function je(e){if(!e)return e===0?e:0;if(e=Re(e),e===dt||e===-dt){var t=e<0?-1:1;return t*ia}return e===e?e:0}function U(e){var t=je(e),n=t%1;return t===t?n?t-n:t:0}function dl(e){return e?_t(U(e),0,Ne):0}function Re(e){if(typeof e=="number")return e;if(we(e))return mn;if($(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ms(e);var n=Da.test(e);return n||za.test(e)?go(e.slice(2),n?2:8):Oa.test(e)?mn:+e}function pl(e){return He(e,pe(e))}function np(e){return e?_t(U(e),-nt,nt):e===0?e:0}function G(e){return e==null?"":_e(e)}var rp=Pt(function(e,t){if(hn(t)||de(t)){He(t,ie(t),e);return}for(var n in t)K.call(t,n)&&sn(e,n,t[n])}),gl=Pt(function(e,t){He(t,pe(t),e)}),ar=Pt(function(e,t,n,r){He(t,pe(t),e,r)}),ip=Pt(function(e,t,n,r){He(t,ie(t),e,r)}),sp=Ze(Qr);function up(e,t){var n=zt(e);return t==null?n:Qs(n,t)}var lp=P(function(e,t){e=Q(e);var n=-1,r=t.length,u=r>2?t[2]:i;for(u&&fe(t[0],t[1],u)&&(r=1);++n<r;)for(var a=t[n],h=pe(a),d=-1,g=h.length;++d<g;){var _=h[d],w=e[_];(w===i||ze(w,Ot[_])&&!K.call(e,_))&&(e[_]=a[_])}return e}),ap=P(function(e){return e.push(i,Mu),me(ml,i,e)});function op(e,t){return Ls(e,I(t,3),ke)}function fp(e,t){return Ls(e,I(t,3),Xr)}function hp(e,t){return e==null?e:Vr(e,I(t,3),pe)}function cp(e,t){return e==null?e:$s(e,I(t,3),pe)}function dp(e,t){return e&&ke(e,I(t,3))}function pp(e,t){return e&&Xr(e,I(t,3))}function gp(e){return e==null?[]:qn(e,ie(e))}function mp(e){return e==null?[]:qn(e,pe(e))}function bi(e,t,n){var r=e==null?i:wt(e,t);return r===i?n:r}function vp(e,t){return e!=null&&Uu(e,t,Nf)}function Li(e,t){return e!=null&&Uu(e,t,kf)}var _p=bu(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=In.call(t)),e[t]=n},Ii(ge)),wp=bu(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=In.call(t)),K.call(e,t)?e[t].push(n):e[t]=[n]},I),yp=P(ln);function ie(e){return de(e)?Ks(e):jr(e)}function pe(e){return de(e)?Ks(e,!0):Jf(e)}function xp(e,t){var n={};return t=I(t,3),ke(e,function(r,u,a){Ve(n,t(r,u,a),r)}),n}function Tp(e,t){var n={};return t=I(t,3),ke(e,function(r,u,a){Ve(n,u,t(r,u,a))}),n}var Ep=Pt(function(e,t,n){Gn(e,t,n)}),ml=Pt(function(e,t,n,r){Gn(e,t,n,r)}),Ap=Ze(function(e,t){var n={};if(e==null)return n;var r=!1;t=Z(t,function(a){return a=ot(a,e),r||(r=a.length>1),a}),He(e,di(e),n),r&&(n=Le(n,H|J|Y,_h));for(var u=t.length;u--;)si(n,t[u]);return n});function Cp(e,t){return vl(e,sr(I(t)))}var Fp=Ze(function(e,t){return e==null?{}:jf(e,t)});function vl(e,t){if(e==null)return{};var n=Z(di(e),function(r){return[r]});return t=I(t),au(e,n,function(r,u){return t(r,u[0])})}function bp(e,t,n){t=ot(t,e);var r=-1,u=t.length;for(u||(u=1,e=i);++r<u;){var a=e==null?i:e[qe(t[r])];a===i&&(r=u,a=n),e=$e(a)?a.call(e):a}return e}function Lp(e,t,n){return e==null?e:on(e,t,n)}function Sp(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:on(e,t,n,r)}var _l=Iu(ie),wl=Iu(pe);function Ip(e,t,n){var r=D(e),u=r||ht(e)||Nt(e);if(t=I(t,4),n==null){var a=e&&e.constructor;u?n=r?new a:[]:$(e)?n=$e(a)?zt(On(e)):{}:n={}}return(u?Ce:ke)(e,function(h,d,g){return t(n,h,d,g)}),n}function Rp(e,t){return e==null?!0:si(e,t)}function Mp(e,t,n){return e==null?e:du(e,t,ai(n))}function Op(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:du(e,t,ai(n),r)}function kt(e){return e==null?[]:Nr(e,ie(e))}function Dp(e){return e==null?[]:Nr(e,pe(e))}function Up(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=Re(n),n=n===n?n:0),t!==i&&(t=Re(t),t=t===t?t:0),_t(Re(e),t,n)}function zp(e,t,n){return t=je(t),n===i?(n=t,t=0):n=je(n),e=Re(e),Hf(e,t,n)}function Pp(e,t,n){if(n&&typeof n!="boolean"&&fe(e,t,n)&&(t=n=i),n===i&&(typeof t=="boolean"?(n=t,t=i):typeof e=="boolean"&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=je(e),t===i?(t=e,e=0):t=je(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var u=qs();return le(e+u*(t-e+po("1e-"+((u+"").length-1))),t)}return ni(e,t)}var Bp=Bt(function(e,t,n){return t=t.toLowerCase(),e+(n?yl(t):t)});function yl(e){return Si(G(e).toLowerCase())}function xl(e){return e=G(e),e&&e.replace(Ba,bo).replace(ro,"")}function Wp(e,t,n){e=G(e),t=_e(t);var r=e.length;n=n===i?r:_t(U(n),0,r);var u=n;return n-=t.length,n>=0&&e.slice(n,u)==t}function Np(e){return e=G(e),e&&_a.test(e)?e.replace($i,Lo):e}function kp(e){return e=G(e),e&&Aa.test(e)?e.replace(Ar,"\\$&"):e}var Hp=Bt(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),qp=Bt(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Gp=Au("toLowerCase");function Kp(e,t,n){e=G(e),t=U(t);var r=t?Rt(e):0;if(!t||r>=t)return e;var u=(t-r)/2;return Zn(Pn(u),n)+e+Zn(zn(u),n)}function Yp(e,t,n){e=G(e),t=U(t);var r=t?Rt(e):0;return t&&r<t?e+Zn(t-r,n):e}function Qp(e,t,n){e=G(e),t=U(t);var r=t?Rt(e):0;return t&&r<t?Zn(t-r,n)+e:e}function Vp(e,t,n){return n||t==null?t=0:t&&(t=+t),ef(G(e).replace(Cr,""),t||0)}function Xp(e,t,n){return(n?fe(e,t,n):t===i)?t=1:t=U(t),ri(G(e),t)}function Zp(){var e=arguments,t=G(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Jp=Bt(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function $p(e,t,n){return n&&typeof n!="number"&&fe(e,t,n)&&(t=n=i),n=n===i?Ne:n>>>0,n?(e=G(e),e&&(typeof t=="string"||t!=null&&!Fi(t))&&(t=_e(t),!t&&It(e))?ft(De(e),0,n):e.split(t,n)):[]}var jp=Bt(function(e,t,n){return e+(n?" ":"")+Si(t)});function eg(e,t,n){return e=G(e),n=n==null?0:_t(U(n),0,e.length),t=_e(t),e.slice(n,n+t.length)==t}function tg(e,t,n){var r=l.templateSettings;n&&fe(e,t,n)&&(t=i),e=G(e),t=ar({},t,r,Ru);var u=ar({},t.imports,r.imports,Ru),a=ie(u),h=Nr(u,a),d,g,_=0,w=t.interpolate||xn,x="__p += '",A=Hr((t.escape||xn).source+"|"+w.source+"|"+(w===ji?Ma:xn).source+"|"+(t.evaluate||xn).source+"|$","g"),L="//# sourceURL="+(K.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ao+"]")+`
`;e.replace(A,function(M,W,k,ye,he,xe){return k||(k=ye),x+=e.slice(_,xe).replace(Wa,So),W&&(d=!0,x+=`' +
__e(`+W+`) +
'`),he&&(g=!0,x+=`';
`+he+`;
__p += '`),k&&(x+=`' +
((__t = (`+k+`)) == null ? '' : __t) +
'`),_=xe+M.length,M}),x+=`';
`;var R=K.call(t,"variable")&&t.variable;if(!R)x=`with (obj) {
`+x+`
}
`;else if(Ia.test(R))throw new O(C);x=(g?x.replace(pa,""):x).replace(ga,"$1").replace(ma,"$1;"),x="function("+(R||"obj")+`) {
`+(R?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(d?", __e = _.escape":"")+(g?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+x+`return __p
}`;var z=El(function(){return q(a,L+"return "+x).apply(i,h)});if(z.source=x,Ci(z))throw z;return z}function ng(e){return G(e).toLowerCase()}function rg(e){return G(e).toUpperCase()}function ig(e,t,n){if(e=G(e),e&&(n||t===i))return Ms(e);if(!e||!(t=_e(t)))return e;var r=De(e),u=De(t),a=Os(r,u),h=Ds(r,u)+1;return ft(r,a,h).join("")}function sg(e,t,n){if(e=G(e),e&&(n||t===i))return e.slice(0,zs(e)+1);if(!e||!(t=_e(t)))return e;var r=De(e),u=Ds(r,De(t))+1;return ft(r,0,u).join("")}function ug(e,t,n){if(e=G(e),e&&(n||t===i))return e.replace(Cr,"");if(!e||!(t=_e(t)))return e;var r=De(e),u=Os(r,De(t));return ft(r,u).join("")}function lg(e,t){var n=$l,r=jl;if($(t)){var u="separator"in t?t.separator:u;n="length"in t?U(t.length):n,r="omission"in t?_e(t.omission):r}e=G(e);var a=e.length;if(It(e)){var h=De(e);a=h.length}if(n>=a)return e;var d=n-Rt(r);if(d<1)return r;var g=h?ft(h,0,d).join(""):e.slice(0,d);if(u===i)return g+r;if(h&&(d+=g.length-d),Fi(u)){if(e.slice(d).search(u)){var _,w=g;for(u.global||(u=Hr(u.source,G(es.exec(u))+"g")),u.lastIndex=0;_=u.exec(w);)var x=_.index;g=g.slice(0,x===i?d:x)}}else if(e.indexOf(_e(u),d)!=d){var A=g.lastIndexOf(u);A>-1&&(g=g.slice(0,A))}return g+r}function ag(e){return e=G(e),e&&va.test(e)?e.replace(Ji,zo):e}var og=Bt(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Si=Au("toUpperCase");function Tl(e,t,n){return e=G(e),t=n?i:t,t===i?Ro(e)?Wo(e):To(e):e.match(t)||[]}var El=P(function(e,t){try{return me(e,i,t)}catch(n){return Ci(n)?n:new O(n)}}),fg=Ze(function(e,t){return Ce(t,function(n){n=qe(n),Ve(e,n,Ei(e[n],e))}),e});function hg(e){var t=e==null?0:e.length,n=I();return e=t?Z(e,function(r){if(typeof r[1]!="function")throw new Fe(T);return[n(r[0]),r[1]]}):[],P(function(r){for(var u=-1;++u<t;){var a=e[u];if(me(a[0],this,r))return me(a[1],this,r)}})}function cg(e){return Pf(Le(e,H))}function Ii(e){return function(){return e}}function dg(e,t){return e==null||e!==e?t:e}var pg=Fu(),gg=Fu(!0);function ge(e){return e}function Ri(e){return nu(typeof e=="function"?e:Le(e,H))}function mg(e){return iu(Le(e,H))}function vg(e,t){return su(e,Le(t,H))}var _g=P(function(e,t){return function(n){return ln(n,e,t)}}),wg=P(function(e,t){return function(n){return ln(e,n,t)}});function Mi(e,t,n){var r=ie(t),u=qn(t,r);n==null&&!($(t)&&(u.length||!r.length))&&(n=t,t=e,e=this,u=qn(t,ie(t)));var a=!($(n)&&"chain"in n)||!!n.chain,h=$e(e);return Ce(u,function(d){var g=t[d];e[d]=g,h&&(e.prototype[d]=function(){var _=this.__chain__;if(a||_){var w=e(this.__wrapped__),x=w.__actions__=ce(this.__actions__);return x.push({func:g,args:arguments,thisArg:e}),w.__chain__=_,w}return g.apply(e,it([this.value()],arguments))})}),e}function yg(){return se._===this&&(se._=Ko),this}function Oi(){}function xg(e){return e=U(e),P(function(t){return uu(t,e)})}var Tg=fi(Z),Eg=fi(bs),Ag=fi(Ur);function Al(e){return vi(e)?zr(qe(e)):eh(e)}function Cg(e){return function(t){return e==null?i:wt(e,t)}}var Fg=Lu(),bg=Lu(!0);function Di(){return[]}function Ui(){return!1}function Lg(){return{}}function Sg(){return""}function Ig(){return!0}function Rg(e,t){if(e=U(e),e<1||e>nt)return[];var n=Ne,r=le(e,Ne);t=I(t),e-=Ne;for(var u=Wr(r,t);++n<e;)t(n);return u}function Mg(e){return D(e)?Z(e,qe):we(e)?[e]:ce(Gu(G(e)))}function Og(e){var t=++qo;return G(e)+t}var Dg=Xn(function(e,t){return e+t},0),Ug=hi("ceil"),zg=Xn(function(e,t){return e/t},1),Pg=hi("floor");function Bg(e){return e&&e.length?Hn(e,ge,Zr):i}function Wg(e,t){return e&&e.length?Hn(e,I(t,2),Zr):i}function Ng(e){return Is(e,ge)}function kg(e,t){return Is(e,I(t,2))}function Hg(e){return e&&e.length?Hn(e,ge,ei):i}function qg(e,t){return e&&e.length?Hn(e,I(t,2),ei):i}var Gg=Xn(function(e,t){return e*t},1),Kg=hi("round"),Yg=Xn(function(e,t){return e-t},0);function Qg(e){return e&&e.length?Br(e,ge):0}function Vg(e,t){return e&&e.length?Br(e,I(t,2)):0}return l.after=md,l.ary=tl,l.assign=rp,l.assignIn=gl,l.assignInWith=ar,l.assignWith=ip,l.at=sp,l.before=nl,l.bind=Ei,l.bindAll=fg,l.bindKey=rl,l.castArray=Ld,l.chain=$u,l.chunk=Ph,l.compact=Bh,l.concat=Wh,l.cond=hg,l.conforms=cg,l.constant=Ii,l.countBy=Qc,l.create=up,l.curry=il,l.curryRight=sl,l.debounce=ul,l.defaults=lp,l.defaultsDeep=ap,l.defer=vd,l.delay=_d,l.difference=Nh,l.differenceBy=kh,l.differenceWith=Hh,l.drop=qh,l.dropRight=Gh,l.dropRightWhile=Kh,l.dropWhile=Yh,l.fill=Qh,l.filter=Xc,l.flatMap=$c,l.flatMapDeep=jc,l.flatMapDepth=ed,l.flatten=Vu,l.flattenDeep=Vh,l.flattenDepth=Xh,l.flip=wd,l.flow=pg,l.flowRight=gg,l.fromPairs=Zh,l.functions=gp,l.functionsIn=mp,l.groupBy=td,l.initial=$h,l.intersection=jh,l.intersectionBy=ec,l.intersectionWith=tc,l.invert=_p,l.invertBy=wp,l.invokeMap=rd,l.iteratee=Ri,l.keyBy=id,l.keys=ie,l.keysIn=pe,l.map=nr,l.mapKeys=xp,l.mapValues=Tp,l.matches=mg,l.matchesProperty=vg,l.memoize=ir,l.merge=Ep,l.mergeWith=ml,l.method=_g,l.methodOf=wg,l.mixin=Mi,l.negate=sr,l.nthArg=xg,l.omit=Ap,l.omitBy=Cp,l.once=yd,l.orderBy=sd,l.over=Tg,l.overArgs=xd,l.overEvery=Eg,l.overSome=Ag,l.partial=Ai,l.partialRight=ll,l.partition=ud,l.pick=Fp,l.pickBy=vl,l.property=Al,l.propertyOf=Cg,l.pull=sc,l.pullAll=Zu,l.pullAllBy=uc,l.pullAllWith=lc,l.pullAt=ac,l.range=Fg,l.rangeRight=bg,l.rearg=Td,l.reject=od,l.remove=oc,l.rest=Ed,l.reverse=xi,l.sampleSize=hd,l.set=Lp,l.setWith=Sp,l.shuffle=cd,l.slice=fc,l.sortBy=gd,l.sortedUniq=vc,l.sortedUniqBy=_c,l.split=$p,l.spread=Ad,l.tail=wc,l.take=yc,l.takeRight=xc,l.takeRightWhile=Tc,l.takeWhile=Ec,l.tap=Bc,l.throttle=Cd,l.thru=tr,l.toArray=cl,l.toPairs=_l,l.toPairsIn=wl,l.toPath=Mg,l.toPlainObject=pl,l.transform=Ip,l.unary=Fd,l.union=Ac,l.unionBy=Cc,l.unionWith=Fc,l.uniq=bc,l.uniqBy=Lc,l.uniqWith=Sc,l.unset=Rp,l.unzip=Ti,l.unzipWith=Ju,l.update=Mp,l.updateWith=Op,l.values=kt,l.valuesIn=Dp,l.without=Ic,l.words=Tl,l.wrap=bd,l.xor=Rc,l.xorBy=Mc,l.xorWith=Oc,l.zip=Dc,l.zipObject=Uc,l.zipObjectDeep=zc,l.zipWith=Pc,l.entries=_l,l.entriesIn=wl,l.extend=gl,l.extendWith=ar,Mi(l,l),l.add=Dg,l.attempt=El,l.camelCase=Bp,l.capitalize=yl,l.ceil=Ug,l.clamp=Up,l.clone=Sd,l.cloneDeep=Rd,l.cloneDeepWith=Md,l.cloneWith=Id,l.conformsTo=Od,l.deburr=xl,l.defaultTo=dg,l.divide=zg,l.endsWith=Wp,l.eq=ze,l.escape=Np,l.escapeRegExp=kp,l.every=Vc,l.find=Zc,l.findIndex=Yu,l.findKey=op,l.findLast=Jc,l.findLastIndex=Qu,l.findLastKey=fp,l.floor=Pg,l.forEach=ju,l.forEachRight=el,l.forIn=hp,l.forInRight=cp,l.forOwn=dp,l.forOwnRight=pp,l.get=bi,l.gt=Dd,l.gte=Ud,l.has=vp,l.hasIn=Li,l.head=Xu,l.identity=ge,l.includes=nd,l.indexOf=Jh,l.inRange=zp,l.invoke=yp,l.isArguments=Tt,l.isArray=D,l.isArrayBuffer=zd,l.isArrayLike=de,l.isArrayLikeObject=ee,l.isBoolean=Pd,l.isBuffer=ht,l.isDate=Bd,l.isElement=Wd,l.isEmpty=Nd,l.isEqual=kd,l.isEqualWith=Hd,l.isError=Ci,l.isFinite=qd,l.isFunction=$e,l.isInteger=al,l.isLength=ur,l.isMap=ol,l.isMatch=Gd,l.isMatchWith=Kd,l.isNaN=Yd,l.isNative=Qd,l.isNil=Xd,l.isNull=Vd,l.isNumber=fl,l.isObject=$,l.isObjectLike=j,l.isPlainObject=dn,l.isRegExp=Fi,l.isSafeInteger=Zd,l.isSet=hl,l.isString=lr,l.isSymbol=we,l.isTypedArray=Nt,l.isUndefined=Jd,l.isWeakMap=$d,l.isWeakSet=jd,l.join=nc,l.kebabCase=Hp,l.last=Ie,l.lastIndexOf=rc,l.lowerCase=qp,l.lowerFirst=Gp,l.lt=ep,l.lte=tp,l.max=Bg,l.maxBy=Wg,l.mean=Ng,l.meanBy=kg,l.min=Hg,l.minBy=qg,l.stubArray=Di,l.stubFalse=Ui,l.stubObject=Lg,l.stubString=Sg,l.stubTrue=Ig,l.multiply=Gg,l.nth=ic,l.noConflict=yg,l.noop=Oi,l.now=rr,l.pad=Kp,l.padEnd=Yp,l.padStart=Qp,l.parseInt=Vp,l.random=Pp,l.reduce=ld,l.reduceRight=ad,l.repeat=Xp,l.replace=Zp,l.result=bp,l.round=Kg,l.runInContext=p,l.sample=fd,l.size=dd,l.snakeCase=Jp,l.some=pd,l.sortedIndex=hc,l.sortedIndexBy=cc,l.sortedIndexOf=dc,l.sortedLastIndex=pc,l.sortedLastIndexBy=gc,l.sortedLastIndexOf=mc,l.startCase=jp,l.startsWith=eg,l.subtract=Yg,l.sum=Qg,l.sumBy=Vg,l.template=tg,l.times=Rg,l.toFinite=je,l.toInteger=U,l.toLength=dl,l.toLower=ng,l.toNumber=Re,l.toSafeInteger=np,l.toString=G,l.toUpper=rg,l.trim=ig,l.trimEnd=sg,l.trimStart=ug,l.truncate=lg,l.unescape=ag,l.uniqueId=Og,l.upperCase=og,l.upperFirst=Si,l.each=ju,l.eachRight=el,l.first=Xu,Mi(l,function(){var e={};return ke(l,function(t,n){K.call(l.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),l.VERSION=o,Ce(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){l[e].placeholder=l}),Ce(["drop","take"],function(e,t){N.prototype[e]=function(n){n=n===i?1:re(U(n),0);var r=this.__filtered__&&!t?new N(this):this.clone();return r.__filtered__?r.__takeCount__=le(n,r.__takeCount__):r.__views__.push({size:le(n,Ne),type:e+(r.__dir__<0?"Right":"")}),r},N.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),Ce(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Vi||n==ra;N.prototype[e]=function(u){var a=this.clone();return a.__iteratees__.push({iteratee:I(u,3),type:n}),a.__filtered__=a.__filtered__||r,a}}),Ce(["head","last"],function(e,t){var n="take"+(t?"Right":"");N.prototype[e]=function(){return this[n](1).value()[0]}}),Ce(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");N.prototype[e]=function(){return this.__filtered__?new N(this):this[n](1)}}),N.prototype.compact=function(){return this.filter(ge)},N.prototype.find=function(e){return this.filter(e).head()},N.prototype.findLast=function(e){return this.reverse().find(e)},N.prototype.invokeMap=P(function(e,t){return typeof e=="function"?new N(this):this.map(function(n){return ln(n,e,t)})}),N.prototype.reject=function(e){return this.filter(sr(I(e)))},N.prototype.slice=function(e,t){e=U(e);var n=this;return n.__filtered__&&(e>0||t<0)?new N(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(t=U(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},N.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},N.prototype.toArray=function(){return this.take(Ne)},ke(N.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),u=l[r?"take"+(t=="last"?"Right":""):t],a=r||/^find/.test(t);!u||(l.prototype[t]=function(){var h=this.__wrapped__,d=r?[1]:arguments,g=h instanceof N,_=d[0],w=g||D(h),x=function(W){var k=u.apply(l,it([W],d));return r&&A?k[0]:k};w&&n&&typeof _=="function"&&_.length!=1&&(g=w=!1);var A=this.__chain__,L=!!this.__actions__.length,R=a&&!A,z=g&&!L;if(!a&&w){h=z?h:new N(this);var M=e.apply(h,d);return M.__actions__.push({func:tr,args:[x],thisArg:i}),new be(M,A)}return R&&z?e.apply(this,d):(M=this.thru(x),R?r?M.value()[0]:M.value():M)})}),Ce(["pop","push","shift","sort","splice","unshift"],function(e){var t=bn[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);l.prototype[e]=function(){var u=arguments;if(r&&!this.__chain__){var a=this.value();return t.apply(D(a)?a:[],u)}return this[n](function(h){return t.apply(D(h)?h:[],u)})}}),ke(N.prototype,function(e,t){var n=l[t];if(n){var r=n.name+"";K.call(Ut,r)||(Ut[r]=[]),Ut[r].push({name:t,func:n})}}),Ut[Vn(i,ct).name]=[{name:"wrapper",func:i}],N.prototype.clone=af,N.prototype.reverse=of,N.prototype.value=ff,l.prototype.at=Wc,l.prototype.chain=Nc,l.prototype.commit=kc,l.prototype.next=Hc,l.prototype.plant=Gc,l.prototype.reverse=Kc,l.prototype.toJSON=l.prototype.valueOf=l.prototype.value=Yc,l.prototype.first=l.prototype.head,jt&&(l.prototype[jt]=qc),l},Mt=No();pt?((pt.exports=Mt)._=Mt,Rr._=Mt):se._=Mt}).call(qt)})(Te,Te.exports);class hr extends Et{connect(){this._renderResults()}_renderResults(){this.relatedMediaValue.thumb&&this.relatedMediaValue.thumb.length>0?(this.imageContainerTarget.innerHTML=this.imageTemplate(this.relatedMediaValue),this.idValue?this.imageContainerTarget.innerHTML+=this.existingFieldsTemplate(this.relatedMediaValue):this.imageContainerTarget.innerHTML+=this.newFieldsTemplate(this.relatedMediaValue)):(this.imageContainerTarget.innerHTML=this.emptyTemplate(this.relatedMediaValue),this.idValue&&(this.imageContainerTarget.innerHTML+=this.existingFieldsDeleteTemplate(this.relatedMediaValue)))}get imageTemplate(){return Te.exports.template(this.imageTemplateTarget.innerHTML)}get emptyTemplate(){return Te.exports.template(this.emptyTemplateTarget.innerHTML)}get existingFieldsDeleteTemplate(){return Te.exports.template(this.existingFieldsDeleteTemplateTarget.innerHTML)}get existingFieldsTemplate(){return Te.exports.template(this.existingFieldsTemplateTarget.innerHTML)}get newFieldsTemplate(){return Te.exports.template(this.newFieldsTemplateTarget.innerHTML)}relatedMediaValueChanged(){this._renderResults()}receiveModalReturn(s){this.relatedMediaValue=s.payload}removeImage(){this.relatedMediaValue={id:this.idValue,thumb:null,kubik_media_upload_id:null}}}hr.values={id:Number,relatedMedia:Object},hr.targets=["imageContainer","emptyTemplate","imageTemplate","newFieldsDeleteTemplate","newFieldsTemplate","existingFieldsTemplate","existingFieldsDeleteTemplate","associationId","mediaUploadId","mediaUploadDelete"];class cr extends Et{connect(){this._renderImages()}_renderImages(){this.imageContainerTarget.innerHTML="",this.relatedMediaValue.forEach(function(s,i){const o={...s,index:i};s.thumb&&s.thumb.length>0&&(o.deleteImage?this.imageContainerTarget.innerHTML+=this.existingFieldsDeleteTemplate(o):this.imageContainerTarget.innerHTML+=this.imageTemplate(o),typeof o.id!="undefined"?this.imageContainerTarget.innerHTML+=this.existingFieldsTemplate(o):this.imageContainerTarget.innerHTML+=this.newFieldsTemplate(o))},this),this.imageContainerTarget.innerHTML+=this.emptyTemplate()}get imageTemplate(){return Te.exports.template(this.imageTemplateTarget.innerHTML)}get emptyTemplate(){return Te.exports.template(this.emptyTemplateTarget.innerHTML)}get existingFieldsDeleteTemplate(){return Te.exports.template(this.existingFieldsDeleteTemplateTarget.innerHTML)}get existingFieldsTemplate(){return Te.exports.template(this.existingFieldsTemplateTarget.innerHTML)}get newFieldsTemplate(){return Te.exports.template(this.newFieldsTemplateTarget.innerHTML)}relatedMediaValueChanged(){this._renderImages()}receiveModalReturn(s){typeof s.return_payload.index!="undefined"?this.relatedMediaValue=[...this.relatedMediaValue.slice(0,s.return_payload.index),Object.assign(s.payload,s.return_payload),...this.relatedMediaValue.slice(s.return_payload.index+1)]:this.relatedMediaValue=[...this.relatedMediaValue,Object.assign(s.payload,{id:null})]}removeImage(s){if(s.currentTarget instanceof HTMLElement){var i=parseInt(s.currentTarget.dataset.imageIndex);this.relatedMediaValue.length>0&&this.relatedMediaValue[i].id?this.relatedMediaValue=Object.assign([],this.relatedMediaValue,{[i]:Object.assign(this.relatedMediaValue[i],{deleteImage:!0})}):this.relatedMediaValue=[...this.relatedMediaValue.slice(0,i),...this.relatedMediaValue.slice(i+1)]}}}cr.values={relatedMedia:{type:Array,default:[]}},cr.targets=["imageContainer","emptyTemplate","imageTemplate","newFieldsDeleteTemplate","newFieldsTemplate","existingFieldsTemplate","existingFieldsDeleteTemplate","associationId","mediaUploadId","mediaUploadDelete"];var ki=Hi;function Hi(){var f=[].slice.call(arguments),s=!1;typeof f[0]=="boolean"&&(s=f.shift());var i=f[0];if(qi(i))throw new Error("extendee must be an object");for(var o=f.slice(1),c=o.length,y=0;y<c;y++){var T=o[y];for(var C in T)if(Object.prototype.hasOwnProperty.call(T,C)){var b=T[C];if(s&&ql(b)){var S=Array.isArray(b)?[]:{};i[C]=Hi(!0,Object.prototype.hasOwnProperty.call(i,C)&&!qi(i[C])?i[C]:S,b)}else i[C]=b}}return i}function ql(f){return Array.isArray(f)||{}.toString.call(f)=="[object Object]"}function qi(f){return!f||typeof f!="object"&&typeof f!="function"}function Gl(f){return f&&f.__esModule?f.default:f}class Gi{on(s,i){return this._callbacks=this._callbacks||{},this._callbacks[s]||(this._callbacks[s]=[]),this._callbacks[s].push(i),this}emit(s,...i){this._callbacks=this._callbacks||{};let o=this._callbacks[s];if(o)for(let c of o)c.apply(this,i);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+s,{args:i})),this}makeEvent(s,i){let o={bubbles:!0,cancelable:!0,detail:i};if(typeof window.CustomEvent=="function")return new CustomEvent(s,o);var c=document.createEvent("CustomEvent");return c.initCustomEvent(s,o.bubbles,o.cancelable,o.detail),c}off(s,i){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let o=this._callbacks[s];if(!o)return this;if(arguments.length===1)return delete this._callbacks[s],this;for(let c=0;c<o.length;c++)if(o[c]===i){o.splice(c,1);break}return this}}var Ki={};Ki=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;var Kl={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(f,s,i){if(i)return{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}},accept(f,s){return s()},chunksUploaded:function(f,s){s()},binaryBody:!1,fallback(){let f;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let i of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(i.className)){f=i,i.className="dz-message";break}f||(f=E.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(f));let s=f.getElementsByTagName("span")[0];return s&&(s.textContent!=null?s.textContent=this.options.dictFallbackMessage:s.innerText!=null&&(s.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(f,s,i,o){let c={srcX:0,srcY:0,srcWidth:f.width,srcHeight:f.height},y=f.width/f.height;s==null&&i==null?(s=c.srcWidth,i=c.srcHeight):s==null?s=i*y:i==null&&(i=s/y),s=Math.min(s,c.srcWidth),i=Math.min(i,c.srcHeight);let T=s/i;if(c.srcWidth>s||c.srcHeight>i)if(o==="crop")y>T?(c.srcHeight=f.height,c.srcWidth=c.srcHeight*T):(c.srcWidth=f.width,c.srcHeight=c.srcWidth/T);else if(o==="contain")y>T?i=s/y:s=i*y;else throw new Error(`Unknown resizeMethod '${o}'`);return c.srcX=(f.width-c.srcWidth)/2,c.srcY=(f.height-c.srcHeight)/2,c.trgWidth=s,c.trgHeight=i,c},transformFile(f,s){return(this.options.resizeWidth||this.options.resizeHeight)&&f.type.match(/image.*/)?this.resizeImage(f,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,s):s(f)},previewTemplate:Gl(Ki),drop(f){return this.element.classList.remove("dz-drag-hover")},dragstart(f){},dragend(f){return this.element.classList.remove("dz-drag-hover")},dragenter(f){return this.element.classList.add("dz-drag-hover")},dragover(f){return this.element.classList.add("dz-drag-hover")},dragleave(f){return this.element.classList.remove("dz-drag-hover")},paste(f){},reset(){return this.element.classList.remove("dz-started")},addedfile(f){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){f.previewElement=E.createElement(this.options.previewTemplate.trim()),f.previewTemplate=f.previewElement,this.previewsContainer.appendChild(f.previewElement);for(var s of f.previewElement.querySelectorAll("[data-dz-name]"))s.textContent=f.name;for(s of f.previewElement.querySelectorAll("[data-dz-size]"))s.innerHTML=this.filesize(f.size);this.options.addRemoveLinks&&(f._removeLink=E.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),f.previewElement.appendChild(f._removeLink));let i=o=>(o.preventDefault(),o.stopPropagation(),f.status===E.UPLOADING?E.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(f)):this.options.dictRemoveFileConfirmation?E.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(f)):this.removeFile(f));for(let o of f.previewElement.querySelectorAll("[data-dz-remove]"))o.addEventListener("click",i)}},removedfile(f){return f.previewElement!=null&&f.previewElement.parentNode!=null&&f.previewElement.parentNode.removeChild(f.previewElement),this._updateMaxFilesReachedClass()},thumbnail(f,s){if(f.previewElement){f.previewElement.classList.remove("dz-file-preview");for(let i of f.previewElement.querySelectorAll("[data-dz-thumbnail]"))i.alt=f.name,i.src=s;return setTimeout(()=>f.previewElement.classList.add("dz-image-preview"),1)}},error(f,s){if(f.previewElement){f.previewElement.classList.add("dz-error"),typeof s!="string"&&s.error&&(s=s.error);for(let i of f.previewElement.querySelectorAll("[data-dz-errormessage]"))i.textContent=s}},errormultiple(){},processing(f){if(f.previewElement&&(f.previewElement.classList.add("dz-processing"),f._removeLink))return f._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(f,s,i){if(f.previewElement)for(let o of f.previewElement.querySelectorAll("[data-dz-uploadprogress]"))o.nodeName==="PROGRESS"?o.value=s:o.style.width=`${s}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(f){if(f.previewElement)return f.previewElement.classList.add("dz-success")},successmultiple(){},canceled(f){return this.emit("error",f,this.options.dictUploadCanceled)},canceledmultiple(){},complete(f){if(f._removeLink&&(f._removeLink.innerHTML=this.options.dictRemoveFile),f.previewElement)return f.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};class E extends Gi{static initClass(){this.prototype.Emitter=Gi,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(s=>s.accepted).map(s=>s)}getRejectedFiles(){return this.files.filter(s=>!s.accepted).map(s=>s)}getFilesWithStatus(s){return this.files.filter(i=>i.status===s).map(i=>i)}getQueuedFiles(){return this.getFilesWithStatus(E.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(E.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(E.ADDED)}getActiveFiles(){return this.files.filter(s=>s.status===E.UPLOADING||s.status===E.QUEUED).map(s=>s)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(E.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let o=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",E.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:c}=this.hiddenFileInput;if(c.length)for(let y of c)this.addFile(y);this.emit("addedfiles",c),o()})};o()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let o of this.events)this.on(o,this.options[o]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",o=>this.emit("complete",o)),this.on("complete",o=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const s=function(o){if(o.dataTransfer.types){for(var c=0;c<o.dataTransfer.types.length;c++)if(o.dataTransfer.types[c]==="Files")return!0}return!1};let i=function(o){if(!!s(o))return o.stopPropagation(),o.preventDefault?o.preventDefault():o.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:o=>this.emit("dragstart",o),dragenter:o=>(i(o),this.emit("dragenter",o)),dragover:o=>{let c;try{c=o.dataTransfer.effectAllowed}catch{}return o.dataTransfer.dropEffect=c==="move"||c==="linkMove"?"move":"copy",i(o),this.emit("dragover",o)},dragleave:o=>this.emit("dragleave",o),drop:o=>(i(o),this.drop(o)),dragend:o=>this.emit("dragend",o)}}],this.clickableElements.forEach(o=>this.listeners.push({element:o,events:{click:c=>((o!==this.element||c.target===this.element||E.elementInside(c.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,E.instances.splice(E.instances.indexOf(this),1)}updateTotalUploadProgress(){let s,i=0,o=0;if(this.getActiveFiles().length){for(let y of this.getActiveFiles())i+=y.upload.bytesSent,o+=y.upload.total;s=100*i/o}else s=100;return this.emit("totaluploadprogress",s,o,i)}_getParamName(s){return typeof this.options.paramName=="function"?this.options.paramName(s):`${this.options.paramName}${this.options.uploadMultiple?`[${s}]`:""}`}_renameFile(s){return typeof this.options.renameFile!="function"?s.name:this.options.renameFile(s)}getFallbackForm(){let s,i;if(s=this.getExistingFallback())return s;let o='<div class="dz-fallback">';this.options.dictFallbackText&&(o+=`<p>${this.options.dictFallbackText}</p>`),o+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let c=E.createElement(o);return this.element.tagName!=="FORM"?(i=E.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),i.appendChild(c)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),i!=null?i:c}getExistingFallback(){let s=function(o){for(let c of o)if(/(^| )fallback($| )/.test(c.className))return c};for(let o of["div","form"]){var i;if(i=s(this.element.getElementsByTagName(o)))return i}}setupEventListeners(){return this.listeners.map(s=>(()=>{let i=[];for(let o in s.events){let c=s.events[o];i.push(s.element.addEventListener(o,c,!1))}return i})())}removeEventListeners(){return this.listeners.map(s=>(()=>{let i=[];for(let o in s.events){let c=s.events[o];i.push(s.element.removeEventListener(o,c,!1))}return i})())}disable(){return this.clickableElements.forEach(s=>s.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(s=>this.cancelUpload(s))}enable(){return delete this.disabled,this.clickableElements.forEach(s=>s.classList.add("dz-clickable")),this.setupEventListeners()}filesize(s){let i=0,o="b";if(s>0){let c=["tb","gb","mb","kb","b"];for(let y=0;y<c.length;y++){let T=c[y],C=Math.pow(this.options.filesizeBase,4-y)/10;if(s>=C){i=s/Math.pow(this.options.filesizeBase,4-y),o=T;break}}i=Math.round(10*i)/10}return`<strong>${i}</strong> ${this.options.dictFileSizeUnits[o]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(s){if(!s.dataTransfer)return;this.emit("drop",s);let i=[];for(let o=0;o<s.dataTransfer.files.length;o++)i[o]=s.dataTransfer.files[o];if(i.length){let{items:o}=s.dataTransfer;o&&o.length&&o[0].webkitGetAsEntry!=null?this._addFilesFromItems(o):this.handleFiles(i)}this.emit("addedfiles",i)}paste(s){if(Zl(s!=null?s.clipboardData:void 0,o=>o.items)==null)return;this.emit("paste",s);let{items:i}=s.clipboardData;if(i.length)return this._addFilesFromItems(i)}handleFiles(s){for(let i of s)this.addFile(i)}_addFilesFromItems(s){return(()=>{let i=[];for(let c of s){var o;c.webkitGetAsEntry!=null&&(o=c.webkitGetAsEntry())?o.isFile?i.push(this.addFile(c.getAsFile())):o.isDirectory?i.push(this._addFilesFromDirectory(o,o.name)):i.push(void 0):c.getAsFile!=null&&(c.kind==null||c.kind==="file")?i.push(this.addFile(c.getAsFile())):i.push(void 0)}return i})()}_addFilesFromDirectory(s,i){let o=s.createReader(),c=T=>Jl(console,"log",C=>C.log(T));var y=()=>o.readEntries(T=>{if(T.length>0){for(let C of T)C.isFile?C.file(b=>{if(!(this.options.ignoreHiddenFiles&&b.name.substring(0,1)==="."))return b.fullPath=`${i}/${b.name}`,this.addFile(b)}):C.isDirectory&&this._addFilesFromDirectory(C,`${i}/${C.name}`);y()}return null},c);return y()}accept(s,i){this.options.maxFilesize&&s.size>this.options.maxFilesize*1048576?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(s.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):E.isValidFile(s,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",s)):this.options.accept.call(this,s,i):i(this.options.dictInvalidFileType)}addFile(s){s.upload={uuid:E.uuidv4(),progress:0,total:s.size,bytesSent:0,filename:this._renameFile(s)},this.files.push(s),s.status=E.ADDED,this.emit("addedfile",s),this._enqueueThumbnail(s),this.accept(s,i=>{i?(s.accepted=!1,this._errorProcessing([s],i)):(s.accepted=!0,this.options.autoQueue&&this.enqueueFile(s)),this._updateMaxFilesReachedClass()})}enqueueFiles(s){for(let i of s)this.enqueueFile(i);return null}enqueueFile(s){if(s.status===E.ADDED&&s.accepted===!0){if(s.status=E.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(s){if(this.options.createImageThumbnails&&s.type.match(/image.*/)&&s.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(s),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let s=this._thumbnailQueue.shift();return this.createThumbnail(s,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,i=>(this.emit("thumbnail",s,i),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(s){if(s.status===E.UPLOADING&&this.cancelUpload(s),this.files=Yl(this.files,s),this.emit("removedfile",s),this.files.length===0)return this.emit("reset")}removeAllFiles(s){s==null&&(s=!1);for(let i of this.files.slice())(i.status!==E.UPLOADING||s)&&this.removeFile(i);return null}resizeImage(s,i,o,c,y){return this.createThumbnail(s,i,o,c,!0,(T,C)=>{if(C==null)return y(s);{let{resizeMimeType:b}=this.options;b==null&&(b=s.type);let S=C.toDataURL(b,this.options.resizeQuality);return(b==="image/jpeg"||b==="image/jpg")&&(S=Yi.restore(s.dataURL,S)),y(E.dataURItoBlob(S))}})}createThumbnail(s,i,o,c,y,T){let C=new FileReader;C.onload=()=>{if(s.dataURL=C.result,s.type==="image/svg+xml"){T!=null&&T(C.result);return}this.createThumbnailFromUrl(s,i,o,c,y,T)},C.readAsDataURL(s)}displayExistingFile(s,i,o,c,y=!0){if(this.emit("addedfile",s),this.emit("complete",s),!y)this.emit("thumbnail",s,i),o&&o();else{let T=C=>{this.emit("thumbnail",s,C),o&&o()};s.dataURL=i,this.createThumbnailFromUrl(s,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,T,c)}}createThumbnailFromUrl(s,i,o,c,y,T,C){let b=document.createElement("img");return C&&(b.crossOrigin=C),y=getComputedStyle(document.body).imageOrientation=="from-image"?!1:y,b.onload=()=>{let S=B=>B(1);return typeof EXIF!="undefined"&&EXIF!==null&&y&&(S=B=>EXIF.getData(b,function(){return B(EXIF.getTag(this,"Orientation"))})),S(B=>{s.width=b.width,s.height=b.height;let H=this.options.resize.call(this,s,i,o,c),J=document.createElement("canvas"),Y=J.getContext("2d");switch(J.width=H.trgWidth,J.height=H.trgHeight,B>4&&(J.width=H.trgHeight,J.height=H.trgWidth),B){case 2:Y.translate(J.width,0),Y.scale(-1,1);break;case 3:Y.translate(J.width,J.height),Y.rotate(Math.PI);break;case 4:Y.translate(0,J.height),Y.scale(1,-1);break;case 5:Y.rotate(.5*Math.PI),Y.scale(1,-1);break;case 6:Y.rotate(.5*Math.PI),Y.translate(0,-J.width);break;case 7:Y.rotate(.5*Math.PI),Y.translate(J.height,-J.width),Y.scale(-1,1);break;case 8:Y.rotate(-.5*Math.PI),Y.translate(-J.height,0);break}Xl(Y,b,H.srcX!=null?H.srcX:0,H.srcY!=null?H.srcY:0,H.srcWidth,H.srcHeight,H.trgX!=null?H.trgX:0,H.trgY!=null?H.trgY:0,H.trgWidth,H.trgHeight);let tt=J.toDataURL("image/png");if(T!=null)return T(tt,J)})},T!=null&&(b.onerror=T),b.src=s.dataURL}processQueue(){let{parallelUploads:s}=this.options,i=this.getUploadingFiles().length,o=i;if(i>=s)return;let c=this.getQueuedFiles();if(c.length>0){if(this.options.uploadMultiple)return this.processFiles(c.slice(0,s-i));for(;o<s;){if(!c.length)return;this.processFile(c.shift()),o++}}}processFile(s){return this.processFiles([s])}processFiles(s){for(let i of s)i.processing=!0,i.status=E.UPLOADING,this.emit("processing",i);return this.options.uploadMultiple&&this.emit("processingmultiple",s),this.uploadFiles(s)}_getFilesWithXhr(s){return this.files.filter(i=>i.xhr===s).map(i=>i)}cancelUpload(s){if(s.status===E.UPLOADING){let i=this._getFilesWithXhr(s.xhr);for(let o of i)o.status=E.CANCELED;typeof s.xhr!="undefined"&&s.xhr.abort();for(let o of i)this.emit("canceled",o);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(s.status===E.ADDED||s.status===E.QUEUED)&&(s.status=E.CANCELED,this.emit("canceled",s),this.options.uploadMultiple&&this.emit("canceledmultiple",[s]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(s,...i){return typeof s=="function"?s.apply(this,i):s}uploadFile(s){return this.uploadFiles([s])}uploadFiles(s){this._transformFiles(s,i=>{if(this.options.chunking){let o=i[0];s[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||o.size>this.options.chunkSize),s[0].upload.totalChunkCount=Math.ceil(o.size/this.options.chunkSize)}if(s[0].upload.chunked){let o=s[0],c=i[0];o.upload.chunks=[];let y=()=>{let T=0;for(;o.upload.chunks[T]!==void 0;)T++;if(T>=o.upload.totalChunkCount)return;let C=T*this.options.chunkSize,b=Math.min(C+this.options.chunkSize,c.size),S={name:this._getParamName(0),data:c.webkitSlice?c.webkitSlice(C,b):c.slice(C,b),filename:o.upload.filename,chunkIndex:T};o.upload.chunks[T]={file:o,index:T,dataBlock:S,status:E.UPLOADING,progress:0,retries:0},this._uploadData(s,[S])};if(o.upload.finishedChunkUpload=(T,C)=>{let b=!0;T.status=E.SUCCESS,T.dataBlock=null,T.response=T.xhr.responseText,T.responseHeaders=T.xhr.getAllResponseHeaders(),T.xhr=null;for(let S=0;S<o.upload.totalChunkCount;S++){if(o.upload.chunks[S]===void 0)return y();o.upload.chunks[S].status!==E.SUCCESS&&(b=!1)}b&&this.options.chunksUploaded(o,()=>{this._finished(s,C,null)})},this.options.parallelChunkUploads)for(let T=0;T<o.upload.totalChunkCount;T++)y();else y()}else{let o=[];for(let c=0;c<s.length;c++)o[c]={name:this._getParamName(c),data:i[c],filename:s[c].upload.filename};this._uploadData(s,o)}})}_getChunk(s,i){for(let o=0;o<s.upload.totalChunkCount;o++)if(s.upload.chunks[o]!==void 0&&s.upload.chunks[o].xhr===i)return s.upload.chunks[o]}_uploadData(s,i){let o=new XMLHttpRequest;for(let S of s)S.xhr=o;s[0].upload.chunked&&(s[0].upload.chunks[i[0].chunkIndex].xhr=o);let c=this.resolveOption(this.options.method,s,i),y=this.resolveOption(this.options.url,s,i);o.open(c,y,!0),this.resolveOption(this.options.timeout,s)&&(o.timeout=this.resolveOption(this.options.timeout,s)),o.withCredentials=!!this.options.withCredentials,o.onload=S=>{this._finishedUploading(s,o,S)},o.ontimeout=()=>{this._handleUploadError(s,o,`Request timedout after ${this.options.timeout/1e3} seconds`)},o.onerror=()=>{this._handleUploadError(s,o)};let C=o.upload!=null?o.upload:o;C.onprogress=S=>this._updateFilesUploadProgress(s,o,S);let b=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(b["Content-Type"]=s[0].type),this.options.headers&&ki(b,this.options.headers);for(let S in b){let B=b[S];B&&o.setRequestHeader(S,B)}if(this.options.binaryBody){for(let S of s)this.emit("sending",S,o);this.options.uploadMultiple&&this.emit("sendingmultiple",s,o),this.submitRequest(o,null,s)}else{let S=new FormData;if(this.options.params){let B=this.options.params;typeof B=="function"&&(B=B.call(this,s,o,s[0].upload.chunked?this._getChunk(s[0],o):null));for(let H in B){let J=B[H];if(Array.isArray(J))for(let Y=0;Y<J.length;Y++)S.append(H,J[Y]);else S.append(H,J)}}for(let B of s)this.emit("sending",B,o,S);this.options.uploadMultiple&&this.emit("sendingmultiple",s,o,S),this._addFormElementData(S);for(let B=0;B<i.length;B++){let H=i[B];S.append(H.name,H.data,H.filename)}this.submitRequest(o,S,s)}}_transformFiles(s,i){let o=[],c=0;for(let y=0;y<s.length;y++)this.options.transformFile.call(this,s[y],T=>{o[y]=T,++c===s.length&&i(o)})}_addFormElementData(s){if(this.element.tagName==="FORM")for(let i of this.element.querySelectorAll("input, textarea, select, button")){let o=i.getAttribute("name"),c=i.getAttribute("type");if(c&&(c=c.toLowerCase()),!(typeof o=="undefined"||o===null))if(i.tagName==="SELECT"&&i.hasAttribute("multiple"))for(let y of i.options)y.selected&&s.append(o,y.value);else(!c||c!=="checkbox"&&c!=="radio"||i.checked)&&s.append(o,i.value)}}_updateFilesUploadProgress(s,i,o){if(s[0].upload.chunked){let c=s[0],y=this._getChunk(c,i);o?(y.progress=100*o.loaded/o.total,y.total=o.total,y.bytesSent=o.loaded):(y.progress=100,y.bytesSent=y.total),c.upload.progress=0,c.upload.total=0,c.upload.bytesSent=0;for(let T=0;T<c.upload.totalChunkCount;T++)c.upload.chunks[T]&&typeof c.upload.chunks[T].progress!="undefined"&&(c.upload.progress+=c.upload.chunks[T].progress,c.upload.total+=c.upload.chunks[T].total,c.upload.bytesSent+=c.upload.chunks[T].bytesSent);c.upload.progress=c.upload.progress/c.upload.totalChunkCount,this.emit("uploadprogress",c,c.upload.progress,c.upload.bytesSent)}else for(let c of s)c.upload.total&&c.upload.bytesSent&&c.upload.bytesSent==c.upload.total||(o?(c.upload.progress=100*o.loaded/o.total,c.upload.total=o.total,c.upload.bytesSent=o.loaded):(c.upload.progress=100,c.upload.bytesSent=c.upload.total),this.emit("uploadprogress",c,c.upload.progress,c.upload.bytesSent))}_finishedUploading(s,i,o){let c;if(s[0].status!==E.CANCELED&&i.readyState===4){if(i.responseType!=="arraybuffer"&&i.responseType!=="blob"&&(c=i.responseText,i.getResponseHeader("content-type")&&~i.getResponseHeader("content-type").indexOf("application/json")))try{c=JSON.parse(c)}catch(y){o=y,c="Invalid JSON response from server."}this._updateFilesUploadProgress(s,i),200<=i.status&&i.status<300?s[0].upload.chunked?s[0].upload.finishedChunkUpload(this._getChunk(s[0],i),c):this._finished(s,c,o):this._handleUploadError(s,i,c)}}_handleUploadError(s,i,o){if(s[0].status!==E.CANCELED){if(s[0].upload.chunked&&this.options.retryChunks){let c=this._getChunk(s[0],i);if(c.retries++<this.options.retryChunksLimit){this._uploadData(s,[c.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(s,o||this.options.dictResponseError.replace("{{statusCode}}",i.status),i)}}submitRequest(s,i,o){if(s.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(o[0].upload.chunked){const c=this._getChunk(o[0],s);s.send(c.dataBlock.data)}else s.send(o[0]);else s.send(i)}_finished(s,i,o){for(let c of s)c.status=E.SUCCESS,this.emit("success",c,i,o),this.emit("complete",c);if(this.options.uploadMultiple&&(this.emit("successmultiple",s,i,o),this.emit("completemultiple",s)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(s,i,o){for(let c of s)c.status=E.ERROR,this.emit("error",c,i,o),this.emit("complete",c);if(this.options.uploadMultiple&&(this.emit("errormultiple",s,i,o),this.emit("completemultiple",s)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){let i=Math.random()*16|0;return(s==="x"?i:i&3|8).toString(16)})}constructor(s,i){super();let o,c;if(this.element=s,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");E.instances.push(this),this.element.dropzone=this;let y=(c=E.optionsForElement(this.element))!=null?c:{};if(this.options=ki(!0,{},Kl,y,i!=null?i:{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!E.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=T=>this.options.renameFilename.call(this,T.name,T)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=E.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=E.getElements(this.options.clickable,"clickable")),this.init()}}E.initClass(),E.options={},E.optionsForElement=function(f){if(f.getAttribute("id"))return E.options[Ql(f.getAttribute("id"))]},E.instances=[],E.forElement=function(f){if(typeof f=="string"&&(f=document.querySelector(f)),(f!=null?f.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return f.dropzone},E.discover=function(){let f;if(document.querySelectorAll)f=document.querySelectorAll(".dropzone");else{f=[];let s=i=>(()=>{let o=[];for(let c of i)/(^| )dropzone($| )/.test(c.className)?o.push(f.push(c)):o.push(void 0);return o})();s(document.getElementsByTagName("div")),s(document.getElementsByTagName("form"))}return(()=>{let s=[];for(let i of f)E.optionsForElement(i)!==!1?s.push(new E(i)):s.push(void 0);return s})()},E.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],E.isBrowserSupported=function(){let f=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))f=!1;else{E.blacklistedBrowsers!==void 0&&(E.blockedBrowsers=E.blacklistedBrowsers);for(let s of E.blockedBrowsers)if(s.test(navigator.userAgent)){f=!1;continue}}else f=!1;return f},E.dataURItoBlob=function(f){let s=atob(f.split(",")[1]),i=f.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(s.length),c=new Uint8Array(o);for(let y=0,T=s.length,C=0<=T;C?y<=T:y>=T;C?y++:y--)c[y]=s.charCodeAt(y);return new Blob([o],{type:i})};const Yl=(f,s)=>f.filter(i=>i!==s).map(i=>i),Ql=f=>f.replace(/[\-_](\w)/g,s=>s.charAt(1).toUpperCase());E.createElement=function(f){let s=document.createElement("div");return s.innerHTML=f,s.childNodes[0]},E.elementInside=function(f,s){if(f===s)return!0;for(;f=f.parentNode;)if(f===s)return!0;return!1},E.getElement=function(f,s){let i;if(typeof f=="string"?i=document.querySelector(f):f.nodeType!=null&&(i=f),i==null)throw new Error(`Invalid \`${s}\` option provided. Please provide a CSS selector or a plain HTML element.`);return i},E.getElements=function(f,s){let i,o;if(f instanceof Array){o=[];try{for(i of f)o.push(this.getElement(i,s))}catch{o=null}}else if(typeof f=="string"){o=[];for(i of document.querySelectorAll(f))o.push(i)}else f.nodeType!=null&&(o=[f]);if(o==null||!o.length)throw new Error(`Invalid \`${s}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return o},E.confirm=function(f,s,i){if(window.confirm(f))return s();if(i!=null)return i()},E.isValidFile=function(f,s){if(!s)return!0;s=s.split(",");let i=f.type,o=i.replace(/\/.*$/,"");for(let c of s)if(c=c.trim(),c.charAt(0)==="."){if(f.name.toLowerCase().indexOf(c.toLowerCase(),f.name.length-c.length)!==-1)return!0}else if(/\/\*$/.test(c)){if(o===c.replace(/\/.*$/,""))return!0}else if(i===c)return!0;return!1},typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.fn.dropzone=function(f){return this.each(function(){return new E(this,f)})}),E.ADDED="added",E.QUEUED="queued",E.ACCEPTED=E.QUEUED,E.UPLOADING="uploading",E.PROCESSING=E.UPLOADING,E.CANCELED="canceled",E.ERROR="error",E.SUCCESS="success";let Vl=function(f){f.naturalWidth;let s=f.naturalHeight,i=document.createElement("canvas");i.width=1,i.height=s;let o=i.getContext("2d");o.drawImage(f,0,0);let{data:c}=o.getImageData(1,0,1,s),y=0,T=s,C=s;for(;C>y;)c[(C-1)*4+3]===0?T=C:y=C,C=T+y>>1;let b=C/s;return b===0?1:b};var Xl=function(f,s,i,o,c,y,T,C,b,S){let B=Vl(s);return f.drawImage(s,i,o,c,y,T,C,b,S/B)};class Yi{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(s){let i="",o,c,y="",T,C,b,S="",B=0;for(;o=s[B++],c=s[B++],y=s[B++],T=o>>2,C=(o&3)<<4|c>>4,b=(c&15)<<2|y>>6,S=y&63,isNaN(c)?b=S=64:isNaN(y)&&(S=64),i=i+this.KEY_STR.charAt(T)+this.KEY_STR.charAt(C)+this.KEY_STR.charAt(b)+this.KEY_STR.charAt(S),o=c=y="",T=C=b=S="",B<s.length;);return i}static restore(s,i){if(!s.match("data:image/jpeg;base64,"))return i;let o=this.decode64(s.replace("data:image/jpeg;base64,","")),c=this.slice2Segments(o),y=this.exifManipulation(i,c);return`data:image/jpeg;base64,${this.encode64(y)}`}static exifManipulation(s,i){let o=this.getExifArray(i),c=this.insertExif(s,o);return new Uint8Array(c)}static getExifArray(s){let i,o=0;for(;o<s.length;){if(i=s[o],i[0]===255&i[1]===225)return i;o++}return[]}static insertExif(s,i){let o=s.replace("data:image/jpeg;base64,",""),c=this.decode64(o),y=c.indexOf(255,3),T=c.slice(0,y),C=c.slice(y),b=T;return b=b.concat(i),b=b.concat(C),b}static slice2Segments(s){let i=0,o=[];for(;;){var c;if(s[i]===255&s[i+1]===218)break;if(s[i]===255&s[i+1]===216)i+=2;else{c=s[i+2]*256+s[i+3];let y=i+c+2,T=s.slice(i,y);o.push(T),i=y}if(i>s.length)break}return o}static decode64(s){let i,o,c="",y,T,C,b="",S=0,B=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(s)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),s=s.replace(/[^A-Za-z0-9\+\/\=]/g,"");y=this.KEY_STR.indexOf(s.charAt(S++)),T=this.KEY_STR.indexOf(s.charAt(S++)),C=this.KEY_STR.indexOf(s.charAt(S++)),b=this.KEY_STR.indexOf(s.charAt(S++)),i=y<<2|T>>4,o=(T&15)<<4|C>>2,c=(C&3)<<6|b,B.push(i),C!==64&&B.push(o),b!==64&&B.push(c),i=o=c="",y=T=C=b="",S<s.length;);return B}}Yi.initClass();function Zl(f,s){return typeof f!="undefined"&&f!==null?s(f):void 0}function Jl(f,s,i){if(typeof f!="undefined"&&f!==null&&typeof f[s]=="function")return i(f,s)}class dr extends Et{connect(){new E(this.formTarget,{paramName:"kubik_media_upload[image]",thumbnailHeight:180,thumbnailWidth:180,thumbnailMethod:"crop",headers:this.headers}),this.element.classList.add("dropzone_ready")}textValueChanged(){this.textTarget.innerHTML=this.textValue}get headers(){return this.turboValue===!0?{Accept:"text/vnd.turbo-stream.html"}:null}file_changed(s){const o=s.target.files[0].name;this.textValue=o,o.length>0?(this.submitTarget.style.display="block",this.placeholderTarget.classList.remove("no-file")):this.placeholderTarget.classList.add("no-file")}}dr.targets=["input","text","submit","placeholder","form"],dr.values={text:String,turbo:Boolean},module.exports={ImageSelectorController:hr,MultipleImageSelectorController:cr,ImageDropzoneController:dr}});
